
<!-- saved from url=(0045)file:///C:/Users/ENA/Downloads/indexIris.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">Ajustar líneas<input type="checkbox" aria-label="Ajustar líneas"></label></form><table class="line-wrap"><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-comment">&lt;!-- saved from url=(0051)file:///C:/Users/ENA/Downloads/indexprorecibo.html# --&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"><span class="html-tag">&lt;html <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">es</span>"&gt;</span><span class="html-tag">&lt;head&gt;</span><span class="html-tag">&lt;meta <span class="html-attribute-name">http-equiv</span>="<span class="html-attribute-value">Content-Type</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">text/html; charset=UTF-8</span>"&gt;</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content">    </td></tr><tr><td class="line-number" value="5"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">viewport</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">width=device-width, initial-scale=1.0</span>"&gt;</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content">    <span class="html-tag">&lt;title&gt;</span>Farmacia El Ahorro - Sistema de Gestión<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="7"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexIris_files/bootstrap.min.css" rel="noreferrer noopener">./indexIris_files/bootstrap.min.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexIris_files/bootstrap-icons.css" rel="noreferrer noopener">./indexIris_files/bootstrap-icons.css</a>"&gt;</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content">    <span class="html-tag">&lt;style&gt;</span></td></tr><tr><td class="line-number" value="10"></td><td class="line-content">        .sidebar {</td></tr><tr><td class="line-number" value="11"></td><td class="line-content">            min-height: 100vh;</td></tr><tr><td class="line-number" value="12"></td><td class="line-content">            background-color: #f8f9fa;</td></tr><tr><td class="line-number" value="13"></td><td class="line-content">            border-right: 1px solid #dee2e6;</td></tr><tr><td class="line-number" value="14"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">        .card-counter {</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">            box-shadow: 0 4px 8px rgba(0,0,0,0.1);</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">            transition: all 0.3s;</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">        .card-counter:hover {</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">            transform: translateY(-5px);</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">            box-shadow: 0 8px 16px rgba(0,0,0,0.2);</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">        .navbar-brand {</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">            font-weight: bold;</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">        .active-nav {</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">            background-color: #0d6efd;</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">            color: white !important;</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">        .table-responsive {</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">            min-height: 400px;</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">        .search-box {</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">            max-width: 300px;</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">        .producto-item {</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">            cursor: pointer;</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">        .producto-item:hover {</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">            background-color: #f8f9fa;</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">        .barcode-scanner {</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">            position: relative;</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">            max-width: 400px;</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">            margin: 0 auto;</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">        .barcode-video {</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">            border: 2px solid #0d6efd;</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">            border-radius: 5px;</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">        .barcode-overlay {</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">            position: absolute;</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">            top: 50%;</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">            left: 50%;</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">            transform: translate(-50%, -50%);</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">            width: 80%;</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">            height: 2px;</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">            background-color: red;</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">            z-index: 10;</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">        .scanner-controls {</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">            margin-top: 10px;</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">            text-align: center;</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">        @media print {</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">            body * {</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">                visibility: hidden;</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">            #recibo-print, #recibo-print * {</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">                visibility: visible;</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">            #recibo-print {</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">                position: absolute;</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">                left: 0;</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">                top: 0;</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">                width: 100%;</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="80"></td><td class="line-content">            .no-print {</td></tr><tr><td class="line-number" value="81"></td><td class="line-content">                display: none !important;</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">        .receipt {</td></tr><tr><td class="line-number" value="85"></td><td class="line-content">            font-family: 'Courier New', monospace;</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">            width: 80mm;</td></tr><tr><td class="line-number" value="87"></td><td class="line-content">            margin: 0 auto;</td></tr><tr><td class="line-number" value="88"></td><td class="line-content">            padding: 10px;</td></tr><tr><td class="line-number" value="89"></td><td class="line-content">            font-size: 12px;</td></tr><tr><td class="line-number" value="90"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="91"></td><td class="line-content">        .receipt-header, .receipt-footer {</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">            text-align: center;</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">            margin-bottom: 10px;</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">        .receipt-items {</td></tr><tr><td class="line-number" value="96"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="97"></td><td class="line-content">            border-collapse: collapse;</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">            margin: 10px 0;</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="100"></td><td class="line-content">        .receipt-items th, .receipt-items td {</td></tr><tr><td class="line-number" value="101"></td><td class="line-content">            padding: 4px 0;</td></tr><tr><td class="line-number" value="102"></td><td class="line-content">            border-bottom: 1px dashed #ccc;</td></tr><tr><td class="line-number" value="103"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="104"></td><td class="line-content">        .receipt-total {</td></tr><tr><td class="line-number" value="105"></td><td class="line-content">            margin-top: 10px;</td></tr><tr><td class="line-number" value="106"></td><td class="line-content">            border-top: 2px solid #000;</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">            padding-top: 10px;</td></tr><tr><td class="line-number" value="108"></td><td class="line-content">            font-weight: bold;</td></tr><tr><td class="line-number" value="109"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="110"></td><td class="line-content">    <span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="111"></td><td class="line-content"><span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="112"></td><td class="line-content"><span class="html-tag">&lt;body <span class="html-attribute-name">class</span>="" <span class="html-attribute-name">style</span>=""&gt;</span></td></tr><tr><td class="line-number" value="113"></td><td class="line-content">    <span class="html-comment">&lt;!-- Navbar --&gt;</span></td></tr><tr><td class="line-number" value="114"></td><td class="line-content">    <span class="html-tag">&lt;nav <span class="html-attribute-name">class</span>="<span class="html-attribute-value">navbar navbar-expand-lg navbar-dark bg-primary</span>"&gt;</span></td></tr><tr><td class="line-number" value="115"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">container-fluid</span>"&gt;</span></td></tr><tr><td class="line-number" value="116"></td><td class="line-content">            <span class="html-tag">&lt;a <span class="html-attribute-name">class</span>="<span class="html-attribute-value">navbar-brand</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexprorecibo.html#" rel="noreferrer noopener">file:///C:/Users/ENA/Downloads/indexprorecibo.html#</a>"&gt;</span></td></tr><tr><td class="line-number" value="117"></td><td class="line-content">                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-prescription2</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Farmacia El Ahorro</td></tr><tr><td class="line-number" value="118"></td><td class="line-content">            <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="119"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="120"></td><td class="line-content">    <span class="html-tag">&lt;/nav&gt;</span></td></tr><tr><td class="line-number" value="121"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="122"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">container-fluid</span>"&gt;</span></td></tr><tr><td class="line-number" value="123"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">row</span>"&gt;</span></td></tr><tr><td class="line-number" value="124"></td><td class="line-content">            <span class="html-comment">&lt;!-- Sidebar --&gt;</span></td></tr><tr><td class="line-number" value="125"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-3 col-lg-2 sidebar py-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="126"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">list-group</span>"&gt;</span></td></tr><tr><td class="line-number" value="127"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexprorecibo.html#" rel="noreferrer noopener">file:///C:/Users/ENA/Downloads/indexprorecibo.html#</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">list-group-item list-group-item-action active-nav</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showSection(&amp;#39;dashboard&amp;#39;)</span>"&gt;</span></td></tr><tr><td class="line-number" value="128"></td><td class="line-content">                        <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-speedometer2</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Dashboard</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">                    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="130"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexprorecibo.html#" rel="noreferrer noopener">file:///C:/Users/ENA/Downloads/indexprorecibo.html#</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">list-group-item list-group-item-action</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showSection(&amp;#39;productos&amp;#39;)</span>"&gt;</span></td></tr><tr><td class="line-number" value="131"></td><td class="line-content">                        <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-capsule</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Productos</td></tr><tr><td class="line-number" value="132"></td><td class="line-content">                    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="133"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexprorecibo.html#" rel="noreferrer noopener">file:///C:/Users/ENA/Downloads/indexprorecibo.html#</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">list-group-item list-group-item-action</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showSection(&amp;#39;clientes&amp;#39;)</span>"&gt;</span></td></tr><tr><td class="line-number" value="134"></td><td class="line-content">                        <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-people</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Clientes</td></tr><tr><td class="line-number" value="135"></td><td class="line-content">                    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="136"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexprorecibo.html#" rel="noreferrer noopener">file:///C:/Users/ENA/Downloads/indexprorecibo.html#</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">list-group-item list-group-item-action</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showSection(&amp;#39;proveedores&amp;#39;)</span>"&gt;</span></td></tr><tr><td class="line-number" value="137"></td><td class="line-content">                        <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-truck</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Proveedores</td></tr><tr><td class="line-number" value="138"></td><td class="line-content">                    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="139"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexprorecibo.html#" rel="noreferrer noopener">file:///C:/Users/ENA/Downloads/indexprorecibo.html#</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">list-group-item list-group-item-action</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showSection(&amp;#39;empleados&amp;#39;)</span>"&gt;</span></td></tr><tr><td class="line-number" value="140"></td><td class="line-content">                        <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-person-badge</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Empleados</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">                    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="142"></td><td class="line-content">                    <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexprorecibo.html#" rel="noreferrer noopener">file:///C:/Users/ENA/Downloads/indexprorecibo.html#</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">list-group-item list-group-item-action</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showSection(&amp;#39;ventas&amp;#39;)</span>"&gt;</span></td></tr><tr><td class="line-number" value="143"></td><td class="line-content">                        <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-cash-coin</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Ventas</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">                    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="145"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="146"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="147"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="148"></td><td class="line-content">            <span class="html-comment">&lt;!-- Main Content --&gt;</span></td></tr><tr><td class="line-number" value="149"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-9 col-lg-10 py-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="150"></td><td class="line-content">                <span class="html-comment">&lt;!-- Dashboard Section --&gt;</span></td></tr><tr><td class="line-number" value="151"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">dashboard-section</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="152"></td><td class="line-content">                    <span class="html-tag">&lt;h2 <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-4</span>"&gt;</span>Dashboard<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="153"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">row</span>"&gt;</span></td></tr><tr><td class="line-number" value="154"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-3 mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="155"></td><td class="line-content">                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card card-counter bg-primary text-white text-center p-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="156"></td><td class="line-content">                                <span class="html-tag">&lt;h3&gt;</span><span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-capsule</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span><span class="html-tag">&lt;/h3&gt;</span></td></tr><tr><td class="line-number" value="157"></td><td class="line-content">                                <span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">productos-count</span>"&gt;</span>7<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="158"></td><td class="line-content">                                <span class="html-tag">&lt;p&gt;</span>Productos<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="159"></td><td class="line-content">                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="160"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="161"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-3 mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="162"></td><td class="line-content">                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card card-counter bg-success text-white text-center p-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="163"></td><td class="line-content">                                <span class="html-tag">&lt;h3&gt;</span><span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-people</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span><span class="html-tag">&lt;/h3&gt;</span></td></tr><tr><td class="line-number" value="164"></td><td class="line-content">                                <span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">clientes-count</span>"&gt;</span>2<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="165"></td><td class="line-content">                                <span class="html-tag">&lt;p&gt;</span>Clientes<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="166"></td><td class="line-content">                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="167"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="168"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-3 mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="169"></td><td class="line-content">                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card card-counter bg-warning text-white text-center p-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="170"></td><td class="line-content">                                <span class="html-tag">&lt;h3&gt;</span><span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-truck</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span><span class="html-tag">&lt;/h3&gt;</span></td></tr><tr><td class="line-number" value="171"></td><td class="line-content">                                <span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">proveedores-count</span>"&gt;</span>2<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="172"></td><td class="line-content">                                <span class="html-tag">&lt;p&gt;</span>Proveedores<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="173"></td><td class="line-content">                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="174"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="175"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-3 mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="176"></td><td class="line-content">                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card card-counter bg-info text-white text-center p-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="177"></td><td class="line-content">                                <span class="html-tag">&lt;h3&gt;</span><span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-person-badge</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span><span class="html-tag">&lt;/h3&gt;</span></td></tr><tr><td class="line-number" value="178"></td><td class="line-content">                                <span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">empleados-count</span>"&gt;</span>2<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="179"></td><td class="line-content">                                <span class="html-tag">&lt;p&gt;</span>Empleados<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="180"></td><td class="line-content">                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="181"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="182"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-3 mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="183"></td><td class="line-content">                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card card-counter bg-danger text-white text-center p-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="184"></td><td class="line-content">                                <span class="html-tag">&lt;h3&gt;</span><span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-cash-coin</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span><span class="html-tag">&lt;/h3&gt;</span></td></tr><tr><td class="line-number" value="185"></td><td class="line-content">                                <span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ventas-count</span>"&gt;</span>0<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="186"></td><td class="line-content">                                <span class="html-tag">&lt;p&gt;</span>Ventas Hoy<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="187"></td><td class="line-content">                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="188"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="189"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">col-md-3 mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="190"></td><td class="line-content">                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card card-counter bg-secondary text-white text-center p-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="191"></td><td class="line-content">                                <span class="html-tag">&lt;h3&gt;</span><span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-currency-dollar</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span><span class="html-tag">&lt;/h3&gt;</span></td></tr><tr><td class="line-number" value="192"></td><td class="line-content">                                <span class="html-tag">&lt;h4 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ingresos-hoy</span>"&gt;</span>$0.00<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="193"></td><td class="line-content">                                <span class="html-tag">&lt;p&gt;</span>Ingresos Hoy<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="194"></td><td class="line-content">                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="195"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="196"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="197"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="198"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="199"></td><td class="line-content">                <span class="html-comment">&lt;!-- Productos Section --&gt;</span></td></tr><tr><td class="line-number" value="200"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">productos-section</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: block;</span>"&gt;</span></td></tr><tr><td class="line-number" value="201"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">d-flex justify-content-between align-items-center mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="202"></td><td class="line-content">                        <span class="html-tag">&lt;h2&gt;</span>Gestión de Productos<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="203"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-primary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showProductoForm()</span>"&gt;</span></td></tr><tr><td class="line-number" value="204"></td><td class="line-content">                            <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-plus-circle</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Nuevo Producto</td></tr><tr><td class="line-number" value="205"></td><td class="line-content">                        <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="206"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="207"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="208"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="209"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">input-group search-box</span>"&gt;</span></td></tr><tr><td class="line-number" value="210"></td><td class="line-content">                            <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">search-producto</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">Buscar producto...</span>"&gt;</span></td></tr><tr><td class="line-number" value="211"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-outline-secondary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">buscarProductos()</span>"&gt;</span></td></tr><tr><td class="line-number" value="212"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-search</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="213"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="214"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="215"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="216"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="217"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table-responsive</span>"&gt;</span></td></tr><tr><td class="line-number" value="218"></td><td class="line-content">                        <span class="html-tag">&lt;table <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table table-striped table-hover</span>"&gt;</span></td></tr><tr><td class="line-number" value="219"></td><td class="line-content">                            <span class="html-tag">&lt;thead&gt;</span></td></tr><tr><td class="line-number" value="220"></td><td class="line-content">                                <span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="221"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>ID<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="222"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Nombre<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="223"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Código Barras<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="224"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Stock<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="225"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Precio Unitario<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="226"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Acciones<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="227"></td><td class="line-content">                                <span class="html-tag">&lt;/tr&gt;</span></td></tr><tr><td class="line-number" value="228"></td><td class="line-content">                            <span class="html-tag">&lt;/thead&gt;</span></td></tr><tr><td class="line-number" value="229"></td><td class="line-content">                            <span class="html-tag">&lt;tbody <span class="html-attribute-name">id</span>="<span class="html-attribute-value">productos-table</span>"&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="230"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>1<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="231"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Paracetamol 500mg<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="232"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>7501006554025<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="233"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>100<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="234"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$4.00<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="235"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="236"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProducto(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="237"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="238"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="239"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProducto(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="240"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="241"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="242"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="243"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="244"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>2<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="245"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Ibuprofeno 400mg<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="246"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>7501059253028<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="247"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>80<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="248"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$5.00<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="249"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="250"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProducto(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="251"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="252"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="253"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProducto(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="254"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="255"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="256"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="257"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="258"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>3<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="259"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Amoxicilina 500mg<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="260"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>7501055301029<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="261"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>55<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="262"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$8.00<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="263"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="264"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProducto(3)</span>"&gt;</span></td></tr><tr><td class="line-number" value="265"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="266"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="267"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProducto(3)</span>"&gt;</span></td></tr><tr><td class="line-number" value="268"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="269"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="270"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="271"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="272"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>4<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="273"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Acetaminofén 250mg<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="274"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>7501059646346<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="275"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>100<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="276"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$2.50<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="277"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="278"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProducto(4)</span>"&gt;</span></td></tr><tr><td class="line-number" value="279"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="280"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="281"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProducto(4)</span>"&gt;</span></td></tr><tr><td class="line-number" value="282"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="283"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="284"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="285"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="286"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>5<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="287"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Loratadina<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="288"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>7501059255645<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="289"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>60<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="290"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$1.00<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="291"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="292"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProducto(5)</span>"&gt;</span></td></tr><tr><td class="line-number" value="293"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="294"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="295"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProducto(5)</span>"&gt;</span></td></tr><tr><td class="line-number" value="296"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="297"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="298"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="299"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="300"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>6<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="301"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Diclofenaco<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="302"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>7501059245245<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="303"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>40<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="304"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$2.25<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="305"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="306"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProducto(6)</span>"&gt;</span></td></tr><tr><td class="line-number" value="307"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="308"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="309"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProducto(6)</span>"&gt;</span></td></tr><tr><td class="line-number" value="310"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="311"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="312"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="313"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="314"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>7<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="315"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Vitamina C<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="316"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>750104532523<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="317"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>35<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="318"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$1.00<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="319"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="320"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProducto(7)</span>"&gt;</span></td></tr><tr><td class="line-number" value="321"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="322"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="323"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProducto(7)</span>"&gt;</span></td></tr><tr><td class="line-number" value="324"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="325"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="326"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="327"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;/tbody&gt;</span></td></tr><tr><td class="line-number" value="328"></td><td class="line-content">                        <span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="329"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="330"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="331"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="332"></td><td class="line-content">                <span class="html-comment">&lt;!-- Clientes Section --&gt;</span></td></tr><tr><td class="line-number" value="333"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">clientes-section</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="334"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">d-flex justify-content-between align-items-center mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="335"></td><td class="line-content">                        <span class="html-tag">&lt;h2&gt;</span>Gestión de Clientes<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="336"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-primary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showClienteForm()</span>"&gt;</span></td></tr><tr><td class="line-number" value="337"></td><td class="line-content">                            <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-plus-circle</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Nuevo Cliente</td></tr><tr><td class="line-number" value="338"></td><td class="line-content">                        <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="339"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="340"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="341"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="342"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">input-group search-box</span>"&gt;</span></td></tr><tr><td class="line-number" value="343"></td><td class="line-content">                            <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">search-cliente</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">Buscar cliente...</span>"&gt;</span></td></tr><tr><td class="line-number" value="344"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-outline-secondary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">buscarClientes()</span>"&gt;</span></td></tr><tr><td class="line-number" value="345"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-search</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="346"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="347"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="348"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="349"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="350"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table-responsive</span>"&gt;</span></td></tr><tr><td class="line-number" value="351"></td><td class="line-content">                        <span class="html-tag">&lt;table <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table table-striped table-hover</span>"&gt;</span></td></tr><tr><td class="line-number" value="352"></td><td class="line-content">                            <span class="html-tag">&lt;thead&gt;</span></td></tr><tr><td class="line-number" value="353"></td><td class="line-content">                                <span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="354"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>ID<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="355"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Nombre<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="356"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Teléfono<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="357"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Acciones<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="358"></td><td class="line-content">                                <span class="html-tag">&lt;/tr&gt;</span></td></tr><tr><td class="line-number" value="359"></td><td class="line-content">                            <span class="html-tag">&lt;/thead&gt;</span></td></tr><tr><td class="line-number" value="360"></td><td class="line-content">                            <span class="html-tag">&lt;tbody <span class="html-attribute-name">id</span>="<span class="html-attribute-value">clientes-table</span>"&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="361"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>1<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="362"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Juan Pérez<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="363"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>555-1234<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="364"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="365"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarCliente(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="366"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="367"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="368"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarCliente(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="369"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="370"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="371"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="372"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="373"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>2<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="374"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>María García<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="375"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>555-5678<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="376"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="377"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarCliente(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="378"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="379"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="380"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarCliente(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="381"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="382"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="383"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="384"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;/tbody&gt;</span></td></tr><tr><td class="line-number" value="385"></td><td class="line-content">                        <span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="386"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="387"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="388"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="389"></td><td class="line-content">                <span class="html-comment">&lt;!-- Proveedores Section --&gt;</span></td></tr><tr><td class="line-number" value="390"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">proveedores-section</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="391"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">d-flex justify-content-between align-items-center mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="392"></td><td class="line-content">                        <span class="html-tag">&lt;h2&gt;</span>Gestión de Proveedores<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="393"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-primary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showProveedorForm()</span>"&gt;</span></td></tr><tr><td class="line-number" value="394"></td><td class="line-content">                            <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-plus-circle</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Nuevo Proveedor</td></tr><tr><td class="line-number" value="395"></td><td class="line-content">                        <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="396"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="397"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="398"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="399"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">input-group search-box</span>"&gt;</span></td></tr><tr><td class="line-number" value="400"></td><td class="line-content">                            <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">search-proveedor</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">Buscar proveedor...</span>"&gt;</span></td></tr><tr><td class="line-number" value="401"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-outline-secondary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">buscarProveedores()</span>"&gt;</span></td></tr><tr><td class="line-number" value="402"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-search</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="403"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="404"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="405"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="406"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="407"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table-responsive</span>"&gt;</span></td></tr><tr><td class="line-number" value="408"></td><td class="line-content">                        <span class="html-tag">&lt;table <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table table-striped table-hover</span>"&gt;</span></td></tr><tr><td class="line-number" value="409"></td><td class="line-content">                            <span class="html-tag">&lt;thead&gt;</span></td></tr><tr><td class="line-number" value="410"></td><td class="line-content">                                <span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="411"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>ID<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="412"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Nombre<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="413"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Contacto<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="414"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Acciones<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="415"></td><td class="line-content">                                <span class="html-tag">&lt;/tr&gt;</span></td></tr><tr><td class="line-number" value="416"></td><td class="line-content">                            <span class="html-tag">&lt;/thead&gt;</span></td></tr><tr><td class="line-number" value="417"></td><td class="line-content">                            <span class="html-tag">&lt;tbody <span class="html-attribute-name">id</span>="<span class="html-attribute-value">proveedores-table</span>"&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="418"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>1<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="419"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Farmacéutica Central<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="420"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>contacto@farmaceuticacentral.com<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="421"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="422"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProveedor(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="423"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="424"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="425"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProveedor(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="426"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="427"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="428"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="429"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="430"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>2<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="431"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Medicamentos S.A.<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="432"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>ventas@medicamentossa.com<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="433"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="434"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarProveedor(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="435"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="436"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="437"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarProveedor(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="438"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="439"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="440"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="441"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;/tbody&gt;</span></td></tr><tr><td class="line-number" value="442"></td><td class="line-content">                        <span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="443"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="444"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="445"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="446"></td><td class="line-content">                <span class="html-comment">&lt;!-- Empleados Section --&gt;</span></td></tr><tr><td class="line-number" value="447"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">empleados-section</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="448"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">d-flex justify-content-between align-items-center mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="449"></td><td class="line-content">                        <span class="html-tag">&lt;h2&gt;</span>Gestión de Empleados<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="450"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-primary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showEmpleadoForm()</span>"&gt;</span></td></tr><tr><td class="line-number" value="451"></td><td class="line-content">                            <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-plus-circle</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Nuevo Empleado</td></tr><tr><td class="line-number" value="452"></td><td class="line-content">                        <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="453"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="454"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="455"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="456"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">input-group search-box</span>"&gt;</span></td></tr><tr><td class="line-number" value="457"></td><td class="line-content">                            <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">search-empleado</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">Buscar empleado...</span>"&gt;</span></td></tr><tr><td class="line-number" value="458"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-outline-secondary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">buscarEmpleados()</span>"&gt;</span></td></tr><tr><td class="line-number" value="459"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-search</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="460"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="461"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="462"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="463"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="464"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table-responsive</span>"&gt;</span></td></tr><tr><td class="line-number" value="465"></td><td class="line-content">                        <span class="html-tag">&lt;table <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table table-striped table-hover</span>"&gt;</span></td></tr><tr><td class="line-number" value="466"></td><td class="line-content">                            <span class="html-tag">&lt;thead&gt;</span></td></tr><tr><td class="line-number" value="467"></td><td class="line-content">                                <span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="468"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>ID<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="469"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Nombre<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="470"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Cargo<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="471"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Salario<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="472"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Acciones<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="473"></td><td class="line-content">                                <span class="html-tag">&lt;/tr&gt;</span></td></tr><tr><td class="line-number" value="474"></td><td class="line-content">                            <span class="html-tag">&lt;/thead&gt;</span></td></tr><tr><td class="line-number" value="475"></td><td class="line-content">                            <span class="html-tag">&lt;tbody <span class="html-attribute-name">id</span>="<span class="html-attribute-value">empleados-table</span>"&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="476"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>1<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="477"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Carlos López<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="478"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Farmacéutico<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="479"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$2500.00<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="480"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="481"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarEmpleado(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="482"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="483"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="484"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarEmpleado(1)</span>"&gt;</span></td></tr><tr><td class="line-number" value="485"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="486"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="487"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="488"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="489"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>2<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="490"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Ana Martínez<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="491"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>Cajera<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="492"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span>$1500.00<span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="493"></td><td class="line-content">                        <span class="html-tag">&lt;td&gt;</span></td></tr><tr><td class="line-number" value="494"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-warning</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">editarEmpleado(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="495"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-pencil</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="496"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="497"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-sm btn-danger</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">eliminarEmpleado(2)</span>"&gt;</span></td></tr><tr><td class="line-number" value="498"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-trash</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="499"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="500"></td><td class="line-content">                        <span class="html-tag">&lt;/td&gt;</span></td></tr><tr><td class="line-number" value="501"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span><span class="html-tag">&lt;/tbody&gt;</span></td></tr><tr><td class="line-number" value="502"></td><td class="line-content">                        <span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="503"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="504"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="505"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="506"></td><td class="line-content">                <span class="html-comment">&lt;!-- Ventas Section --&gt;</span></td></tr><tr><td class="line-number" value="507"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ventas-section</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="508"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">d-flex justify-content-between align-items-center mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="509"></td><td class="line-content">                        <span class="html-tag">&lt;h2&gt;</span>Gestión de Ventas<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="510"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-primary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">showVentaForm()</span>"&gt;</span></td></tr><tr><td class="line-number" value="511"></td><td class="line-content">                            <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-plus-circle</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Nueva Venta</td></tr><tr><td class="line-number" value="512"></td><td class="line-content">                        <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="513"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="514"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="515"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="516"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">input-group search-box</span>"&gt;</span></td></tr><tr><td class="line-number" value="517"></td><td class="line-content">                            <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">search-venta</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">Buscar venta por cliente...</span>"&gt;</span></td></tr><tr><td class="line-number" value="518"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-outline-secondary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">buscarVentas()</span>"&gt;</span></td></tr><tr><td class="line-number" value="519"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-search</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span></td></tr><tr><td class="line-number" value="520"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="521"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="522"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="523"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="524"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table-responsive</span>"&gt;</span></td></tr><tr><td class="line-number" value="525"></td><td class="line-content">                        <span class="html-tag">&lt;table <span class="html-attribute-name">class</span>="<span class="html-attribute-value">table table-striped table-hover</span>"&gt;</span></td></tr><tr><td class="line-number" value="526"></td><td class="line-content">                            <span class="html-tag">&lt;thead&gt;</span></td></tr><tr><td class="line-number" value="527"></td><td class="line-content">                                <span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="528"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>ID<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="529"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Fecha<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="530"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Cliente<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="531"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>NIT<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="532"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Total<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="533"></td><td class="line-content">                                    <span class="html-tag">&lt;th&gt;</span>Acciones<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="534"></td><td class="line-content">                                <span class="html-tag">&lt;/tr&gt;</span></td></tr><tr><td class="line-number" value="535"></td><td class="line-content">                            <span class="html-tag">&lt;/thead&gt;</span></td></tr><tr><td class="line-number" value="536"></td><td class="line-content">                            <span class="html-tag">&lt;tbody <span class="html-attribute-name">id</span>="<span class="html-attribute-value">ventas-table</span>"&gt;</span><span class="html-tag">&lt;/tbody&gt;</span></td></tr><tr><td class="line-number" value="537"></td><td class="line-content">                        <span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="538"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="539"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="540"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="541"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="542"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="543"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="544"></td><td class="line-content">    <span class="html-comment">&lt;!-- Modal para formularios --&gt;</span></td></tr><tr><td class="line-number" value="545"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal fade</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">formModal</span>" <span class="html-attribute-name">tabindex</span>="<span class="html-attribute-value">-1</span>" <span class="html-attribute-name">aria-hidden</span>="<span class="html-attribute-value">true</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="546"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-dialog modal-lg</span>"&gt;</span></td></tr><tr><td class="line-number" value="547"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-content</span>"&gt;</span></td></tr><tr><td class="line-number" value="548"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-header</span>"&gt;</span></td></tr><tr><td class="line-number" value="549"></td><td class="line-content">                    <span class="html-tag">&lt;h5 <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-title</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">modalTitle</span>"&gt;</span>Editar Producto<span class="html-tag">&lt;/h5&gt;</span></td></tr><tr><td class="line-number" value="550"></td><td class="line-content">                    <span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-close</span>" <span class="html-attribute-name">data-bs-dismiss</span>="<span class="html-attribute-value">modal</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">Close</span>"&gt;</span><span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="551"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="552"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-body</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">modalBody</span>"&gt;</span></td></tr><tr><td class="line-number" value="553"></td><td class="line-content">                <span class="html-tag">&lt;form <span class="html-attribute-name">onsubmit</span>="<span class="html-attribute-value">guardarProducto(event)</span>"&gt;</span></td></tr><tr><td class="line-number" value="554"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="555"></td><td class="line-content">                        <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">nombre</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-label</span>"&gt;</span>Nombre<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="556"></td><td class="line-content">                        <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">nombre</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">Vitamina C</span>" <span class="html-attribute-name">required</span>=""&gt;</span></td></tr><tr><td class="line-number" value="557"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="558"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="559"></td><td class="line-content">                        <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">codigo_barras</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-label</span>"&gt;</span>Código de Barras<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="560"></td><td class="line-content">                        <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">codigo_barras</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">750104532523</span>"&gt;</span></td></tr><tr><td class="line-number" value="561"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="562"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="563"></td><td class="line-content">                        <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">stock</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-label</span>"&gt;</span>Stock<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="564"></td><td class="line-content">                        <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">number</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">stock</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">35</span>" <span class="html-attribute-name">required</span>=""&gt;</span></td></tr><tr><td class="line-number" value="565"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="566"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mb-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="567"></td><td class="line-content">                        <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">precio</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-label</span>"&gt;</span>Precio Unitario<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="568"></td><td class="line-content">                        <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">number</span>" <span class="html-attribute-name">step</span>="<span class="html-attribute-value">0.01</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">precio</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">0</span>" <span class="html-attribute-name">required</span>=""&gt;</span></td></tr><tr><td class="line-number" value="569"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="570"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-footer</span>"&gt;</span></td></tr><tr><td class="line-number" value="571"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-secondary</span>" <span class="html-attribute-name">data-bs-dismiss</span>="<span class="html-attribute-value">modal</span>"&gt;</span>Cancelar<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="572"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">submit</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-primary</span>"&gt;</span>Guardar<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="573"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="574"></td><td class="line-content">                <span class="html-tag">&lt;/form&gt;</span></td></tr><tr><td class="line-number" value="575"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="576"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="577"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="578"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="579"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="580"></td><td class="line-content">    <span class="html-comment">&lt;!-- Modal para escaner de código de barras --&gt;</span></td></tr><tr><td class="line-number" value="581"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal fade</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">barcodeModal</span>" <span class="html-attribute-name">tabindex</span>="<span class="html-attribute-value">-1</span>" <span class="html-attribute-name">aria-hidden</span>="<span class="html-attribute-value">true</span>"&gt;</span></td></tr><tr><td class="line-number" value="582"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-dialog</span>"&gt;</span></td></tr><tr><td class="line-number" value="583"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-content</span>"&gt;</span></td></tr><tr><td class="line-number" value="584"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-header</span>"&gt;</span></td></tr><tr><td class="line-number" value="585"></td><td class="line-content">                    <span class="html-tag">&lt;h5 <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-title</span>"&gt;</span>Escaner de Código de Barras<span class="html-tag">&lt;/h5&gt;</span></td></tr><tr><td class="line-number" value="586"></td><td class="line-content">                    <span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-close</span>" <span class="html-attribute-name">data-bs-dismiss</span>="<span class="html-attribute-value">modal</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">Close</span>"&gt;</span><span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="587"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="588"></td><td class="line-content">                <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">modal-body</span>"&gt;</span></td></tr><tr><td class="line-number" value="589"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">barcode-scanner</span>"&gt;</span></td></tr><tr><td class="line-number" value="590"></td><td class="line-content">                        <span class="html-tag">&lt;video <span class="html-attribute-name">id</span>="<span class="html-attribute-value">barcode-video</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">barcode-video</span>"&gt;</span><span class="html-tag">&lt;/video&gt;</span></td></tr><tr><td class="line-number" value="591"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">barcode-overlay</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="592"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="593"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">scanner-controls</span>"&gt;</span></td></tr><tr><td class="line-number" value="594"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">start-scan</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-success</span>"&gt;</span></td></tr><tr><td class="line-number" value="595"></td><td class="line-content">                            <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-camera</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Iniciar Escáner</td></tr><tr><td class="line-number" value="596"></td><td class="line-content">                        <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="597"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">stop-scan</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-danger</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="598"></td><td class="line-content">                            <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-stop-circle</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Detener Escáner</td></tr><tr><td class="line-number" value="599"></td><td class="line-content">                        <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="600"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="601"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">mt-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="602"></td><td class="line-content">                        <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">manual-barcode</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-label</span>"&gt;</span>O ingresar código manualmente:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="603"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">input-group</span>"&gt;</span></td></tr><tr><td class="line-number" value="604"></td><td class="line-content">                            <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">manual-barcode</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-control</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">Código de barras</span>"&gt;</span></td></tr><tr><td class="line-number" value="605"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn btn-primary</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">addProductByManualBarcode()</span>"&gt;</span></td></tr><tr><td class="line-number" value="606"></td><td class="line-content">                                <span class="html-tag">&lt;i <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bi bi-plus-circle</span>"&gt;</span><span class="html-tag">&lt;/i&gt;</span> Agregar</td></tr><tr><td class="line-number" value="607"></td><td class="line-content">                            <span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="608"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="609"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="610"></td><td class="line-content">                <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="611"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="612"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="613"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="614"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="615"></td><td class="line-content">    <span class="html-comment">&lt;!-- Recibo de venta (oculto para impresión) --&gt;</span></td></tr><tr><td class="line-number" value="616"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">recibo-print</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="617"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">receipt</span>"&gt;</span></td></tr><tr><td class="line-number" value="618"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">receipt-header</span>"&gt;</span></td></tr><tr><td class="line-number" value="619"></td><td class="line-content">                <span class="html-tag">&lt;h4&gt;</span>Farmacia El Ahorro<span class="html-tag">&lt;/h4&gt;</span></td></tr><tr><td class="line-number" value="620"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span>Tel: (502) 1234-5678<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="621"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span>Dirección: Av. Principal 123<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="622"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span>NIT: 1234567-8<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="623"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="624"></td><td class="line-content">            <span class="html-tag">&lt;hr&gt;</span></td></tr><tr><td class="line-number" value="625"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">receipt-details</span>"&gt;</span></td></tr><tr><td class="line-number" value="626"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>Recibo No:<span class="html-tag">&lt;/strong&gt;</span> <span class="html-tag">&lt;span <span class="html-attribute-name">id</span>="<span class="html-attribute-value">recibo-numero</span>"&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="627"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>Fecha:<span class="html-tag">&lt;/strong&gt;</span> <span class="html-tag">&lt;span <span class="html-attribute-name">id</span>="<span class="html-attribute-value">recibo-fecha</span>"&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="628"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>Cliente:<span class="html-tag">&lt;/strong&gt;</span> <span class="html-tag">&lt;span <span class="html-attribute-name">id</span>="<span class="html-attribute-value">recibo-cliente</span>"&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="629"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span><span class="html-tag">&lt;strong&gt;</span>NIT:<span class="html-tag">&lt;/strong&gt;</span> <span class="html-tag">&lt;span <span class="html-attribute-name">id</span>="<span class="html-attribute-value">recibo-nit</span>"&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="630"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="631"></td><td class="line-content">            <span class="html-tag">&lt;hr&gt;</span></td></tr><tr><td class="line-number" value="632"></td><td class="line-content">            <span class="html-tag">&lt;table <span class="html-attribute-name">class</span>="<span class="html-attribute-value">receipt-items</span>"&gt;</span></td></tr><tr><td class="line-number" value="633"></td><td class="line-content">                <span class="html-tag">&lt;thead&gt;</span></td></tr><tr><td class="line-number" value="634"></td><td class="line-content">                    <span class="html-tag">&lt;tr&gt;</span></td></tr><tr><td class="line-number" value="635"></td><td class="line-content">                        <span class="html-tag">&lt;th <span class="html-attribute-name">style</span>="<span class="html-attribute-value">width: 60%;</span>"&gt;</span>Producto<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="636"></td><td class="line-content">                        <span class="html-tag">&lt;th <span class="html-attribute-name">style</span>="<span class="html-attribute-value">width: 15%;</span>"&gt;</span>Cant<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="637"></td><td class="line-content">                        <span class="html-tag">&lt;th <span class="html-attribute-name">style</span>="<span class="html-attribute-value">width: 25%; text-align: right;</span>"&gt;</span>Precio<span class="html-tag">&lt;/th&gt;</span></td></tr><tr><td class="line-number" value="638"></td><td class="line-content">                    <span class="html-tag">&lt;/tr&gt;</span></td></tr><tr><td class="line-number" value="639"></td><td class="line-content">                <span class="html-tag">&lt;/thead&gt;</span></td></tr><tr><td class="line-number" value="640"></td><td class="line-content">                <span class="html-tag">&lt;tbody <span class="html-attribute-name">id</span>="<span class="html-attribute-value">recibo-items</span>"&gt;</span></td></tr><tr><td class="line-number" value="641"></td><td class="line-content">                    <span class="html-comment">&lt;!-- Los items del recibo se insertarán aquí --&gt;</span></td></tr><tr><td class="line-number" value="642"></td><td class="line-content">                <span class="html-tag">&lt;/tbody&gt;</span></td></tr><tr><td class="line-number" value="643"></td><td class="line-content">            <span class="html-tag">&lt;/table&gt;</span></td></tr><tr><td class="line-number" value="644"></td><td class="line-content">            <span class="html-tag">&lt;hr&gt;</span></td></tr><tr><td class="line-number" value="645"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">receipt-total</span>"&gt;</span></td></tr><tr><td class="line-number" value="646"></td><td class="line-content">                <span class="html-tag">&lt;p <span class="html-attribute-name">style</span>="<span class="html-attribute-value">text-align: right;</span>"&gt;</span>Total: <span class="html-tag">&lt;span <span class="html-attribute-name">id</span>="<span class="html-attribute-value">recibo-total</span>"&gt;</span><span class="html-tag">&lt;/span&gt;</span><span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="647"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="648"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">receipt-footer</span>"&gt;</span></td></tr><tr><td class="line-number" value="649"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span>¡Gracias por su compra!<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="650"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span>Vuelva pronto<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="651"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="652"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="653"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="654"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="655"></td><td class="line-content">    <span class="html-comment">&lt;!-- Toast para mensajes --&gt;</span></td></tr><tr><td class="line-number" value="656"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">toast-container position-fixed top-0 end-0 p-3</span>"&gt;</span></td></tr><tr><td class="line-number" value="657"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">liveToast</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">toast bg-success text-white fade hide</span>" <span class="html-attribute-name">role</span>="<span class="html-attribute-value">alert</span>" <span class="html-attribute-name">aria-live</span>="<span class="html-attribute-value">assertive</span>" <span class="html-attribute-name">aria-atomic</span>="<span class="html-attribute-value">true</span>"&gt;</span></td></tr><tr><td class="line-number" value="658"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">toast-header</span>"&gt;</span></td></tr><tr><td class="line-number" value="659"></td><td class="line-content">                <span class="html-tag">&lt;strong <span class="html-attribute-name">class</span>="<span class="html-attribute-value">me-auto</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">toastTitle</span>"&gt;</span>Éxito<span class="html-tag">&lt;/strong&gt;</span></td></tr><tr><td class="line-number" value="660"></td><td class="line-content">                <span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-close</span>" <span class="html-attribute-name">data-bs-dismiss</span>="<span class="html-attribute-value">toast</span>" <span class="html-attribute-name">aria-label</span>="<span class="html-attribute-value">Close</span>"&gt;</span><span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="661"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="662"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">toast-body</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">toastMessage</span>"&gt;</span>Producto actualizado correctamente<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="663"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="664"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="665"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="666"></td><td class="line-content">    <span class="html-comment">&lt;!-- Incluir QuaggaJS para lectura de código de barras --&gt;</span></td></tr><tr><td class="line-number" value="667"></td><td class="line-content">    <span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexIris_files/quagga.min.js.descarga" rel="noreferrer noopener">./indexIris_files/quagga.min.js.descarga</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="668"></td><td class="line-content">    <span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="file:///C:/Users/ENA/Downloads/indexIris_files/bootstrap.bundle.min.js.descarga" rel="noreferrer noopener">./indexIris_files/bootstrap.bundle.min.js.descarga</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="669"></td><td class="line-content">    <span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="670"></td><td class="line-content">        // Variables globales</td></tr><tr><td class="line-number" value="671"></td><td class="line-content">        let db;</td></tr><tr><td class="line-number" value="672"></td><td class="line-content">        let currentSection = 'dashboard';</td></tr><tr><td class="line-number" value="673"></td><td class="line-content">        let editingId = null;</td></tr><tr><td class="line-number" value="674"></td><td class="line-content">        const modal = new bootstrap.Modal(document.getElementById('formModal'));</td></tr><tr><td class="line-number" value="675"></td><td class="line-content">        const barcodeModal = new bootstrap.Modal(document.getElementById('barcodeModal'));</td></tr><tr><td class="line-number" value="676"></td><td class="line-content">        const toast = new bootstrap.Toast(document.getElementById('liveToast'));</td></tr><tr><td class="line-number" value="677"></td><td class="line-content">        let quaggaInitialized = false;</td></tr><tr><td class="line-number" value="678"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="679"></td><td class="line-content">        // Inicializar la base de datos al cargar la página</td></tr><tr><td class="line-number" value="680"></td><td class="line-content">        document.addEventListener('DOMContentLoaded', function() {</td></tr><tr><td class="line-number" value="681"></td><td class="line-content">            initDB();</td></tr><tr><td class="line-number" value="682"></td><td class="line-content">            updateCounts();</td></tr><tr><td class="line-number" value="683"></td><td class="line-content">            showSection('dashboard');</td></tr><tr><td class="line-number" value="684"></td><td class="line-content">            setupBarcodeScanner();</td></tr><tr><td class="line-number" value="685"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="686"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="687"></td><td class="line-content">        // Configurar el escáner de código de barras</td></tr><tr><td class="line-number" value="688"></td><td class="line-content">        function setupBarcodeScanner() {</td></tr><tr><td class="line-number" value="689"></td><td class="line-content">            document.getElementById('start-scan').addEventListener('click', startBarcodeScanner);</td></tr><tr><td class="line-number" value="690"></td><td class="line-content">            document.getElementById('stop-scan').addEventListener('click', stopBarcodeScanner);</td></tr><tr><td class="line-number" value="691"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="692"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="693"></td><td class="line-content">        // Inicializar IndexedDB</td></tr><tr><td class="line-number" value="694"></td><td class="line-content">        function initDB() {</td></tr><tr><td class="line-number" value="695"></td><td class="line-content">            const request = indexedDB.open('FarmaciaDB', 3); // Incrementamos la versión a 3</td></tr><tr><td class="line-number" value="696"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="697"></td><td class="line-content">            request.onerror = function(event) {</td></tr><tr><td class="line-number" value="698"></td><td class="line-content">                showToast('Error', 'No se pudo abrir la base de datos', 'danger');</td></tr><tr><td class="line-number" value="699"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="700"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="701"></td><td class="line-content">            request.onupgradeneeded = function(event) {</td></tr><tr><td class="line-number" value="702"></td><td class="line-content">                db = event.target.result;</td></tr><tr><td class="line-number" value="703"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="704"></td><td class="line-content">                // Crear object stores (tablas)</td></tr><tr><td class="line-number" value="705"></td><td class="line-content">                if (!db.objectStoreNames.contains('producto')) {</td></tr><tr><td class="line-number" value="706"></td><td class="line-content">                    const productoStore = db.createObjectStore('producto', { keyPath: 'id', autoIncrement: true });</td></tr><tr><td class="line-number" value="707"></td><td class="line-content">                    productoStore.createIndex('nombre', 'nombre', { unique: false });</td></tr><tr><td class="line-number" value="708"></td><td class="line-content">                    productoStore.createIndex('codigo_barras', 'codigo_barras', { unique: true });</td></tr><tr><td class="line-number" value="709"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="710"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="711"></td><td class="line-content">                if (!db.objectStoreNames.contains('cliente')) {</td></tr><tr><td class="line-number" value="712"></td><td class="line-content">                    const clienteStore = db.createObjectStore('cliente', { keyPath: 'id', autoIncrement: true });</td></tr><tr><td class="line-number" value="713"></td><td class="line-content">                    clienteStore.createIndex('nombre', 'nombre', { unique: false });</td></tr><tr><td class="line-number" value="714"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="715"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="716"></td><td class="line-content">                if (!db.objectStoreNames.contains('proveedor')) {</td></tr><tr><td class="line-number" value="717"></td><td class="line-content">                    const proveedorStore = db.createObjectStore('proveedor', { keyPath: 'id', autoIncrement: true });</td></tr><tr><td class="line-number" value="718"></td><td class="line-content">                    proveedorStore.createIndex('nombre', 'nombre', { unique: false });</td></tr><tr><td class="line-number" value="719"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="720"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="721"></td><td class="line-content">                if (!db.objectStoreNames.contains('empleado')) {</td></tr><tr><td class="line-number" value="722"></td><td class="line-content">                    const empleadoStore = db.createObjectStore('empleado', { keyPath: 'id', autoIncrement: true });</td></tr><tr><td class="line-number" value="723"></td><td class="line-content">                    empleadoStore.createIndex('nombre', 'nombre', { unique: false });</td></tr><tr><td class="line-number" value="724"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="725"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="726"></td><td class="line-content">                // Crear object store para ventas</td></tr><tr><td class="line-number" value="727"></td><td class="line-content">                if (!db.objectStoreNames.contains('venta')) {</td></tr><tr><td class="line-number" value="728"></td><td class="line-content">                    const ventaStore = db.createObjectStore('venta', { keyPath: 'id', autoIncrement: true });</td></tr><tr><td class="line-number" value="729"></td><td class="line-content">                    ventaStore.createIndex('fecha', 'fecha', { unique: false });</td></tr><tr><td class="line-number" value="730"></td><td class="line-content">                    ventaStore.createIndex('cliente', 'cliente', { unique: false });</td></tr><tr><td class="line-number" value="731"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="732"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="733"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="734"></td><td class="line-content">            request.onsuccess = function(event) {</td></tr><tr><td class="line-number" value="735"></td><td class="line-content">                db = event.target.result;</td></tr><tr><td class="line-number" value="736"></td><td class="line-content">                showToast('Éxito', 'Base de datos inicializada correctamente', 'success');</td></tr><tr><td class="line-number" value="737"></td><td class="line-content">                cargarDatosIniciales();</td></tr><tr><td class="line-number" value="738"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="739"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="740"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="741"></td><td class="line-content">        // Cargar datos iniciales si es necesario</td></tr><tr><td class="line-number" value="742"></td><td class="line-content">        function cargarDatosIniciales() {</td></tr><tr><td class="line-number" value="743"></td><td class="line-content">            // Verificar si ya hay datos</td></tr><tr><td class="line-number" value="744"></td><td class="line-content">            const transaction = db.transaction(['producto'], 'readonly');</td></tr><tr><td class="line-number" value="745"></td><td class="line-content">            const store = transaction.objectStore('producto');</td></tr><tr><td class="line-number" value="746"></td><td class="line-content">            const countRequest = store.count();</td></tr><tr><td class="line-number" value="747"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="748"></td><td class="line-content">            countRequest.onsuccess = function() {</td></tr><tr><td class="line-number" value="749"></td><td class="line-content">                if (countRequest.result === 0) {</td></tr><tr><td class="line-number" value="750"></td><td class="line-content">                    // Datos de ejemplo</td></tr><tr><td class="line-number" value="751"></td><td class="line-content">                    const datosEjemplo = {</td></tr><tr><td class="line-number" value="752"></td><td class="line-content">                        producto: [</td></tr><tr><td class="line-number" value="753"></td><td class="line-content">                            { nombre: 'Paracetamol 500mg', codigo_barras: '7501006554025', stock: 100, precio_unitario: 5.50 },</td></tr><tr><td class="line-number" value="754"></td><td class="line-content">                            { nombre: 'Ibuprofeno 400mg', codigo_barras: '7501059253028', stock: 80, precio_unitario: 6.20 },</td></tr><tr><td class="line-number" value="755"></td><td class="line-content">                            { nombre: 'Amoxicilina 500mg', codigo_barras: '7501055301029', stock: 50, precio_unitario: 12.80 }</td></tr><tr><td class="line-number" value="756"></td><td class="line-content">                        ],</td></tr><tr><td class="line-number" value="757"></td><td class="line-content">                        cliente: [</td></tr><tr><td class="line-number" value="758"></td><td class="line-content">                            { nombre: 'Juan Pérez', telefono: '555-1234', nit: '123456-7', direccion: 'Av. Siempre Viva 742' },</td></tr><tr><td class="line-number" value="759"></td><td class="line-content">                            { nombre: 'María García', telefono: '555-5678', nit: '765432-1', direccion: 'Calle Falsa 123' }</td></tr><tr><td class="line-number" value="760"></td><td class="line-content">                        ],</td></tr><tr><td class="line-number" value="761"></td><td class="line-content">                        proveedor: [</td></tr><tr><td class="line-number" value="762"></td><td class="line-content">                            { nombre: 'Farmacéutica Central', contacto: 'contacto@farmaceuticacentral.com' },</td></tr><tr><td class="line-number" value="763"></td><td class="line-content">                            { nombre: 'Medicamentos S.A.', contacto: 'ventas@medicamentossa.com' }</td></tr><tr><td class="line-number" value="764"></td><td class="line-content">                        ],</td></tr><tr><td class="line-number" value="765"></td><td class="line-content">                        empleado: [</td></tr><tr><td class="line-number" value="766"></td><td class="line-content">                            { nombre: 'Carlos López', cargo: 'Farmacéutico', salario: 2500 },</td></tr><tr><td class="line-number" value="767"></td><td class="line-content">                            { nombre: 'Ana Martínez', cargo: 'Cajera', salario: 1500 }</td></tr><tr><td class="line-number" value="768"></td><td class="line-content">                        ]</td></tr><tr><td class="line-number" value="769"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="770"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="771"></td><td class="line-content">                    // Insertar datos de ejemplo</td></tr><tr><td class="line-number" value="772"></td><td class="line-content">                    for (const [tabla, datos] of Object.entries(datosEjemplo)) {</td></tr><tr><td class="line-number" value="773"></td><td class="line-content">                        const transaction = db.transaction([tabla], 'readwrite');</td></tr><tr><td class="line-number" value="774"></td><td class="line-content">                        const store = transaction.objectStore(tabla);</td></tr><tr><td class="line-number" value="775"></td><td class="line-content">                        </td></tr><tr><td class="line-number" value="776"></td><td class="line-content">                        datos.forEach(item =&gt; {</td></tr><tr><td class="line-number" value="777"></td><td class="line-content">                            store.add(item);</td></tr><tr><td class="line-number" value="778"></td><td class="line-content">                        });</td></tr><tr><td class="line-number" value="779"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="780"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="781"></td><td class="line-content">                    showToast('Info', 'Datos de ejemplo cargados', 'info');</td></tr><tr><td class="line-number" value="782"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="783"></td><td class="line-content">                updateCounts();</td></tr><tr><td class="line-number" value="784"></td><td class="line-content">                cargarProductos();</td></tr><tr><td class="line-number" value="785"></td><td class="line-content">                cargarClientes();</td></tr><tr><td class="line-number" value="786"></td><td class="line-content">                cargarProveedores();</td></tr><tr><td class="line-number" value="787"></td><td class="line-content">                cargarEmpleados();</td></tr><tr><td class="line-number" value="788"></td><td class="line-content">                cargarVentas();</td></tr><tr><td class="line-number" value="789"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="790"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="791"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="792"></td><td class="line-content">        // Mostrar u ocultar secciones</td></tr><tr><td class="line-number" value="793"></td><td class="line-content">        function showSection(section) {</td></tr><tr><td class="line-number" value="794"></td><td class="line-content">            // Ocultar todas las secciones</td></tr><tr><td class="line-number" value="795"></td><td class="line-content">            document.querySelectorAll('[id$="-section"]').forEach(sec =&gt; {</td></tr><tr><td class="line-number" value="796"></td><td class="line-content">                sec.style.display = 'none';</td></tr><tr><td class="line-number" value="797"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="798"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="799"></td><td class="line-content">            // Mostrar la sección seleccionada</td></tr><tr><td class="line-number" value="800"></td><td class="line-content">            document.getElementById(section + '-section').style.display = 'block';</td></tr><tr><td class="line-number" value="801"></td><td class="line-content">            currentSection = section;</td></tr><tr><td class="line-number" value="802"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="803"></td><td class="line-content">            // Actualizar datos según la sección</td></tr><tr><td class="line-number" value="804"></td><td class="line-content">            switch(section) {</td></tr><tr><td class="line-number" value="805"></td><td class="line-content">                case 'productos':</td></tr><tr><td class="line-number" value="806"></td><td class="line-content">                    cargarProductos();</td></tr><tr><td class="line-number" value="807"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="808"></td><td class="line-content">                case 'clientes':</td></tr><tr><td class="line-number" value="809"></td><td class="line-content">                    cargarClientes();</td></tr><tr><td class="line-number" value="810"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="811"></td><td class="line-content">                case 'proveedores':</td></tr><tr><td class="line-number" value="812"></td><td class="line-content">                    cargarProveedores();</td></tr><tr><td class="line-number" value="813"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="814"></td><td class="line-content">                case 'empleados':</td></tr><tr><td class="line-number" value="815"></td><td class="line-content">                    cargarEmpleados();</td></tr><tr><td class="line-number" value="816"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="817"></td><td class="line-content">                case 'ventas':</td></tr><tr><td class="line-number" value="818"></td><td class="line-content">                    cargarVentas();</td></tr><tr><td class="line-number" value="819"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="820"></td><td class="line-content">                case 'dashboard':</td></tr><tr><td class="line-number" value="821"></td><td class="line-content">                    updateCounts();</td></tr><tr><td class="line-number" value="822"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="823"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="824"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="825"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="826"></td><td class="line-content">        // Actualizar contadores del dashboard</td></tr><tr><td class="line-number" value="827"></td><td class="line-content">        function updateCounts() {</td></tr><tr><td class="line-number" value="828"></td><td class="line-content">            contarRegistros('producto', 'productos-count');</td></tr><tr><td class="line-number" value="829"></td><td class="line-content">            contarRegistros('cliente', 'clientes-count');</td></tr><tr><td class="line-number" value="830"></td><td class="line-content">            contarRegistros('proveedor', 'proveedores-count');</td></tr><tr><td class="line-number" value="831"></td><td class="line-content">            contarRegistros('empleado', 'empleados-count');</td></tr><tr><td class="line-number" value="832"></td><td class="line-content">            contarRegistros('venta', 'ventas-count');</td></tr><tr><td class="line-number" value="833"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="834"></td><td class="line-content">            // Calcular ingresos de hoy</td></tr><tr><td class="line-number" value="835"></td><td class="line-content">            calcularIngresosHoy();</td></tr><tr><td class="line-number" value="836"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="837"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="838"></td><td class="line-content">        function calcularIngresosHoy() {</td></tr><tr><td class="line-number" value="839"></td><td class="line-content">            const transaction = db.transaction(['venta'], 'readonly');</td></tr><tr><td class="line-number" value="840"></td><td class="line-content">            const store = transaction.objectStore('venta');</td></tr><tr><td class="line-number" value="841"></td><td class="line-content">            const index = store.index('fecha');</td></tr><tr><td class="line-number" value="842"></td><td class="line-content">            const hoy = new Date().toISOString().split('T')[0]; // Formato YYYY-MM-DD</td></tr><tr><td class="line-number" value="843"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="844"></td><td class="line-content">            let totalHoy = 0;</td></tr><tr><td class="line-number" value="845"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="846"></td><td class="line-content">            // No podemos buscar directamente por fecha sin un rango, así que recorremos todas</td></tr><tr><td class="line-number" value="847"></td><td class="line-content">            const request = store.getAll();</td></tr><tr><td class="line-number" value="848"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="849"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="850"></td><td class="line-content">                const ventas = request.result;</td></tr><tr><td class="line-number" value="851"></td><td class="line-content">                ventas.forEach(venta =&gt; {</td></tr><tr><td class="line-number" value="852"></td><td class="line-content">                    if (venta.fecha === hoy) {</td></tr><tr><td class="line-number" value="853"></td><td class="line-content">                        totalHoy += venta.total;</td></tr><tr><td class="line-number" value="854"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="855"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="856"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="857"></td><td class="line-content">                document.getElementById('ingresos-hoy').textContent = `$${totalHoy.toFixed(2)}`;</td></tr><tr><td class="line-number" value="858"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="859"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="860"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="861"></td><td class="line-content">        function contarRegistros(tabla, elementId) {</td></tr><tr><td class="line-number" value="862"></td><td class="line-content">            const transaction = db.transaction([tabla], 'readonly');</td></tr><tr><td class="line-number" value="863"></td><td class="line-content">            const store = transaction.objectStore(tabla);</td></tr><tr><td class="line-number" value="864"></td><td class="line-content">            const countRequest = store.count();</td></tr><tr><td class="line-number" value="865"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="866"></td><td class="line-content">            countRequest.onsuccess = function() {</td></tr><tr><td class="line-number" value="867"></td><td class="line-content">                document.getElementById(elementId).textContent = countRequest.result;</td></tr><tr><td class="line-number" value="868"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="869"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="870"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="871"></td><td class="line-content">        // Mostrar toast de notificación</td></tr><tr><td class="line-number" value="872"></td><td class="line-content">        function showToast(title, message, type = 'info') {</td></tr><tr><td class="line-number" value="873"></td><td class="line-content">            document.getElementById('toastTitle').textContent = title;</td></tr><tr><td class="line-number" value="874"></td><td class="line-content">            document.getElementById('toastMessage').textContent = message;</td></tr><tr><td class="line-number" value="875"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="876"></td><td class="line-content">            const toastElement = document.getElementById('liveToast');</td></tr><tr><td class="line-number" value="877"></td><td class="line-content">            toastElement.className = 'toast';</td></tr><tr><td class="line-number" value="878"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="879"></td><td class="line-content">            switch(type) {</td></tr><tr><td class="line-number" value="880"></td><td class="line-content">                case 'success':</td></tr><tr><td class="line-number" value="881"></td><td class="line-content">                    toastElement.classList.add('bg-success', 'text-white');</td></tr><tr><td class="line-number" value="882"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="883"></td><td class="line-content">                case 'danger':</td></tr><tr><td class="line-number" value="884"></td><td class="line-content">                    toastElement.classList.add('bg-danger', 'text-white');</td></tr><tr><td class="line-number" value="885"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="886"></td><td class="line-content">                case 'warning':</td></tr><tr><td class="line-number" value="887"></td><td class="line-content">                    toastElement.classList.add('bg-warning', 'text-dark');</td></tr><tr><td class="line-number" value="888"></td><td class="line-content">                    break;</td></tr><tr><td class="line-number" value="889"></td><td class="line-content">                default:</td></tr><tr><td class="line-number" value="890"></td><td class="line-content">                    toastElement.classList.add('bg-info', 'text-white');</td></tr><tr><td class="line-number" value="891"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="892"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="893"></td><td class="line-content">            toast.show();</td></tr><tr><td class="line-number" value="894"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="895"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="896"></td><td class="line-content">        // ========== FUNCIONES PARA PRODUCTOS ==========</td></tr><tr><td class="line-number" value="897"></td><td class="line-content">        function cargarProductos(busqueda = '') {</td></tr><tr><td class="line-number" value="898"></td><td class="line-content">            const transaction = db.transaction(['producto'], 'readonly');</td></tr><tr><td class="line-number" value="899"></td><td class="line-content">            const store = transaction.objectStore('producto');</td></tr><tr><td class="line-number" value="900"></td><td class="line-content">            const request = store.getAll();</td></tr><tr><td class="line-number" value="901"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="902"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="903"></td><td class="line-content">                let productos = request.result;</td></tr><tr><td class="line-number" value="904"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="905"></td><td class="line-content">                // Filtrar si hay búsqueda</td></tr><tr><td class="line-number" value="906"></td><td class="line-content">                if (busqueda) {</td></tr><tr><td class="line-number" value="907"></td><td class="line-content">                    productos = productos.filter(p =&gt; </td></tr><tr><td class="line-number" value="908"></td><td class="line-content">                        p.nombre.toLowerCase().includes(busqueda.toLowerCase()) ||</td></tr><tr><td class="line-number" value="909"></td><td class="line-content">                        (p.codigo_barras &amp;&amp; p.codigo_barras.includes(busqueda))</td></tr><tr><td class="line-number" value="910"></td><td class="line-content">                    );</td></tr><tr><td class="line-number" value="911"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="912"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="913"></td><td class="line-content">                const tbody = document.getElementById('productos-table');</td></tr><tr><td class="line-number" value="914"></td><td class="line-content">                tbody.innerHTML = '';</td></tr><tr><td class="line-number" value="915"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="916"></td><td class="line-content">                productos.forEach(producto =&gt; {</td></tr><tr><td class="line-number" value="917"></td><td class="line-content">                    const tr = document.createElement('tr');</td></tr><tr><td class="line-number" value="918"></td><td class="line-content">                    tr.innerHTML = `</td></tr><tr><td class="line-number" value="919"></td><td class="line-content">                        &lt;td&gt;${producto.id}&lt;/td&gt;</td></tr><tr><td class="line-number" value="920"></td><td class="line-content">                        &lt;td&gt;${producto.nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="921"></td><td class="line-content">                        &lt;td&gt;${producto.codigo_barras || 'N/A'}&lt;/td&gt;</td></tr><tr><td class="line-number" value="922"></td><td class="line-content">                        &lt;td&gt;${producto.stock}&lt;/td&gt;</td></tr><tr><td class="line-number" value="923"></td><td class="line-content">                        &lt;td&gt;$${producto.precio_unitario.toFixed(2)}&lt;/td&gt;</td></tr><tr><td class="line-number" value="924"></td><td class="line-content">                        &lt;td&gt;</td></tr><tr><td class="line-number" value="925"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-warning" onclick="editarProducto(${producto.id})"&gt;</td></tr><tr><td class="line-number" value="926"></td><td class="line-content">                                &lt;i class="bi bi-pencil"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="927"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="928"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-danger" onclick="eliminarProducto(${producto.id})"&gt;</td></tr><tr><td class="line-number" value="929"></td><td class="line-content">                                &lt;i class="bi bi-trash"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="930"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="931"></td><td class="line-content">                        &lt;/td&gt;</td></tr><tr><td class="line-number" value="932"></td><td class="line-content">                    `;</td></tr><tr><td class="line-number" value="933"></td><td class="line-content">                    tbody.appendChild(tr);</td></tr><tr><td class="line-number" value="934"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="935"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="936"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="937"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="938"></td><td class="line-content">        function buscarProductos() {</td></tr><tr><td class="line-number" value="939"></td><td class="line-content">            const busqueda = document.getElementById('search-producto').value;</td></tr><tr><td class="line-number" value="940"></td><td class="line-content">            cargarProductos(busqueda);</td></tr><tr><td class="line-number" value="941"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="942"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="943"></td><td class="line-content">        function showProductoForm(producto = null) {</td></tr><tr><td class="line-number" value="944"></td><td class="line-content">            editingId = producto ? producto.id : null;</td></tr><tr><td class="line-number" value="945"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="946"></td><td class="line-content">            document.getElementById('modalTitle').textContent = producto ? 'Editar Producto' : 'Nuevo Producto';</td></tr><tr><td class="line-number" value="947"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="948"></td><td class="line-content">            document.getElementById('modalBody').innerHTML = `</td></tr><tr><td class="line-number" value="949"></td><td class="line-content">                &lt;form onsubmit="guardarProducto(event)"&gt;</td></tr><tr><td class="line-number" value="950"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="951"></td><td class="line-content">                        &lt;label for="nombre" class="form-label"&gt;Nombre&lt;/label&gt;</td></tr><tr><td class="line-number" value="952"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="nombre" value="${producto ? producto.nombre : ''}" required&gt;</td></tr><tr><td class="line-number" value="953"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="954"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="955"></td><td class="line-content">                        &lt;label for="codigo_barras" class="form-label"&gt;Código de Barras&lt;/label&gt;</td></tr><tr><td class="line-number" value="956"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="codigo_barras" value="${producto ? producto.codigo_barras || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="957"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="958"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="959"></td><td class="line-content">                        &lt;label for="stock" class="form-label"&gt;Stock&lt;/label&gt;</td></tr><tr><td class="line-number" value="960"></td><td class="line-content">                        &lt;input type="number" class="form-control" id="stock" value="${producto ? producto.stock : 0}" required&gt;</td></tr><tr><td class="line-number" value="961"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="962"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="963"></td><td class="line-content">                        &lt;label for="precio" class="form-label"&gt;Precio Unitario&lt;/label&gt;</td></tr><tr><td class="line-number" value="964"></td><td class="line-content">                        &lt;input type="number" step="0.01" class="form-control" id="precio" value="${producto ? producto.precio_unitario : 0.0}" required&gt;</td></tr><tr><td class="line-number" value="965"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="966"></td><td class="line-content">                    &lt;div class="modal-footer"&gt;</td></tr><tr><td class="line-number" value="967"></td><td class="line-content">                        &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Cancelar&lt;/button&gt;</td></tr><tr><td class="line-number" value="968"></td><td class="line-content">                        &lt;button type="submit" class="btn btn-primary"&gt;Guardar&lt;/button&gt;</td></tr><tr><td class="line-number" value="969"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="970"></td><td class="line-content">                &lt;/form&gt;</td></tr><tr><td class="line-number" value="971"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="972"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="973"></td><td class="line-content">            modal.show();</td></tr><tr><td class="line-number" value="974"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="975"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="976"></td><td class="line-content">        function guardarProducto(event) {</td></tr><tr><td class="line-number" value="977"></td><td class="line-content">            event.preventDefault();</td></tr><tr><td class="line-number" value="978"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="979"></td><td class="line-content">            const nombre = document.getElementById('nombre').value;</td></tr><tr><td class="line-number" value="980"></td><td class="line-content">            const codigo_barras = document.getElementById('codigo_barras').value;</td></tr><tr><td class="line-number" value="981"></td><td class="line-content">            const stock = parseInt(document.getElementById('stock').value);</td></tr><tr><td class="line-number" value="982"></td><td class="line-content">            const precio = parseFloat(document.getElementById('precio').value);</td></tr><tr><td class="line-number" value="983"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="984"></td><td class="line-content">            if (!nombre) {</td></tr><tr><td class="line-number" value="985"></td><td class="line-content">                showToast('Error', 'El nombre es obligatorio', 'danger');</td></tr><tr><td class="line-number" value="986"></td><td class="line-content">                return;</td></tr><tr><td class="line-number" value="987"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="988"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="989"></td><td class="line-content">            const producto = { nombre, codigo_barras, stock, precio_unitario: precio };</td></tr><tr><td class="line-number" value="990"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="991"></td><td class="line-content">            const transaction = db.transaction(['producto'], 'readwrite');</td></tr><tr><td class="line-number" value="992"></td><td class="line-content">            const store = transaction.objectStore('producto');</td></tr><tr><td class="line-number" value="993"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="994"></td><td class="line-content">            let request;</td></tr><tr><td class="line-number" value="995"></td><td class="line-content">            if (editingId) {</td></tr><tr><td class="line-number" value="996"></td><td class="line-content">                producto.id = editingId;</td></tr><tr><td class="line-number" value="997"></td><td class="line-content">                request = store.put(producto);</td></tr><tr><td class="line-number" value="998"></td><td class="line-content">            } else {</td></tr><tr><td class="line-number" value="999"></td><td class="line-content">                request = store.add(producto);</td></tr><tr><td class="line-number" value="1000"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1001"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1002"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1003"></td><td class="line-content">                modal.hide();</td></tr><tr><td class="line-number" value="1004"></td><td class="line-content">                showToast('Éxito', `Producto ${editingId ? 'actualizado' : 'agregado'} correctamente`, 'success');</td></tr><tr><td class="line-number" value="1005"></td><td class="line-content">                cargarProductos();</td></tr><tr><td class="line-number" value="1006"></td><td class="line-content">                updateCounts();</td></tr><tr><td class="line-number" value="1007"></td><td class="line-content">                editingId = null;</td></tr><tr><td class="line-number" value="1008"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1009"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1010"></td><td class="line-content">            request.onerror = function() {</td></tr><tr><td class="line-number" value="1011"></td><td class="line-content">                showToast('Error', 'No se pudo guardar el producto', 'danger');</td></tr><tr><td class="line-number" value="1012"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1013"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1014"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1015"></td><td class="line-content">        function editarProducto(id) {</td></tr><tr><td class="line-number" value="1016"></td><td class="line-content">            const transaction = db.transaction(['producto'], 'readonly');</td></tr><tr><td class="line-number" value="1017"></td><td class="line-content">            const store = transaction.objectStore('producto');</td></tr><tr><td class="line-number" value="1018"></td><td class="line-content">            const request = store.get(id);</td></tr><tr><td class="line-number" value="1019"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1020"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1021"></td><td class="line-content">                showProductoForm(request.result);</td></tr><tr><td class="line-number" value="1022"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1023"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1024"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1025"></td><td class="line-content">        function eliminarProducto(id) {</td></tr><tr><td class="line-number" value="1026"></td><td class="line-content">            if (confirm('¿Está seguro de que desea eliminar este producto?')) {</td></tr><tr><td class="line-number" value="1027"></td><td class="line-content">                const transaction = db.transaction(['producto'], 'readwrite');</td></tr><tr><td class="line-number" value="1028"></td><td class="line-content">                const store = transaction.objectStore('producto');</td></tr><tr><td class="line-number" value="1029"></td><td class="line-content">                const request = store.delete(id);</td></tr><tr><td class="line-number" value="1030"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1031"></td><td class="line-content">                request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1032"></td><td class="line-content">                    showToast('Éxito', 'Producto eliminado correctamente', 'success');</td></tr><tr><td class="line-number" value="1033"></td><td class="line-content">                    cargarProductos();</td></tr><tr><td class="line-number" value="1034"></td><td class="line-content">                    updateCounts();</td></tr><tr><td class="line-number" value="1035"></td><td class="line-content">                };</td></tr><tr><td class="line-number" value="1036"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1037"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1038"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1039"></td><td class="line-content">        // ========== FUNCIONES PARA CLIENTES ==========</td></tr><tr><td class="line-number" value="1040"></td><td class="line-content">        function cargarClientes(busqueda = '') {</td></tr><tr><td class="line-number" value="1041"></td><td class="line-content">            const transaction = db.transaction(['cliente'], 'readonly');</td></tr><tr><td class="line-number" value="1042"></td><td class="line-content">            const store = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="1043"></td><td class="line-content">            const request = store.getAll();</td></tr><tr><td class="line-number" value="1044"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1045"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1046"></td><td class="line-content">                let clientes = request.result;</td></tr><tr><td class="line-number" value="1047"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1048"></td><td class="line-content">                if (busqueda) {</td></tr><tr><td class="line-number" value="1049"></td><td class="line-content">                    clientes = clientes.filter(c =&gt; </td></tr><tr><td class="line-number" value="1050"></td><td class="line-content">                        c.nombre.toLowerCase().includes(busqueda.toLowerCase())</td></tr><tr><td class="line-number" value="1051"></td><td class="line-content">                    );</td></tr><tr><td class="line-number" value="1052"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1053"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1054"></td><td class="line-content">                const tbody = document.getElementById('clientes-table');</td></tr><tr><td class="line-number" value="1055"></td><td class="line-content">                tbody.innerHTML = '';</td></tr><tr><td class="line-number" value="1056"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1057"></td><td class="line-content">                clientes.forEach(cliente =&gt; {</td></tr><tr><td class="line-number" value="1058"></td><td class="line-content">                    const tr = document.createElement('tr');</td></tr><tr><td class="line-number" value="1059"></td><td class="line-content">                    tr.innerHTML = `</td></tr><tr><td class="line-number" value="1060"></td><td class="line-content">                        &lt;td&gt;${cliente.id}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1061"></td><td class="line-content">                        &lt;td&gt;${cliente.nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1062"></td><td class="line-content">                        &lt;td&gt;${cliente.telefono || ''}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1063"></td><td class="line-content">                        &lt;td&gt;</td></tr><tr><td class="line-number" value="1064"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-warning" onclick="editarCliente(${cliente.id})"&gt;</td></tr><tr><td class="line-number" value="1065"></td><td class="line-content">                                &lt;i class="bi bi-pencil"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1066"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="1067"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-danger" onclick="eliminarCliente(${cliente.id})"&gt;</td></tr><tr><td class="line-number" value="1068"></td><td class="line-content">                                &lt;i class="bi bi-trash"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1069"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="1070"></td><td class="line-content">                        &lt;/td&gt;</td></tr><tr><td class="line-number" value="1071"></td><td class="line-content">                    `;</td></tr><tr><td class="line-number" value="1072"></td><td class="line-content">                    tbody.appendChild(tr);</td></tr><tr><td class="line-number" value="1073"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1074"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1075"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1076"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1077"></td><td class="line-content">        function buscarClientes() {</td></tr><tr><td class="line-number" value="1078"></td><td class="line-content">            const busqueda = document.getElementById('search-cliente').value;</td></tr><tr><td class="line-number" value="1079"></td><td class="line-content">            cargarClientes(busqueda);</td></tr><tr><td class="line-number" value="1080"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1081"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1082"></td><td class="line-content">        function showClienteForm(cliente = null) {</td></tr><tr><td class="line-number" value="1083"></td><td class="line-content">            editingId = cliente ? cliente.id : null;</td></tr><tr><td class="line-number" value="1084"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1085"></td><td class="line-content">            document.getElementById('modalTitle').textContent = cliente ? 'Editar Cliente' : 'Nuevo Cliente';</td></tr><tr><td class="line-number" value="1086"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1087"></td><td class="line-content">            document.getElementById('modalBody').innerHTML = `</td></tr><tr><td class="line-number" value="1088"></td><td class="line-content">                &lt;form onsubmit="guardarCliente(event)"&gt;</td></tr><tr><td class="line-number" value="1089"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1090"></td><td class="line-content">                        &lt;label for="cliente-nombre" class="form-label"&gt;Nombre&lt;/label&gt;</td></tr><tr><td class="line-number" value="1091"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="cliente-nombre" value="${cliente ? cliente.nombre : ''}" required&gt;</td></tr><tr><td class="line-number" value="1092"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1093"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1094"></td><td class="line-content">                        &lt;label for="cliente-telefono" class="form-label"&gt;Teléfono&lt;/label&gt;</td></tr><tr><td class="line-number" value="1095"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="cliente-telefono" value="${cliente ? cliente.telefono || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="1096"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1097"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1098"></td><td class="line-content">                        &lt;label for="cliente-nit" class="form-label"&gt;NIT&lt;/label&gt;</td></tr><tr><td class="line-number" value="1099"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="cliente-nit" value="${cliente ? cliente.nit || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="1100"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1101"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1102"></td><td class="line-content">                        &lt;label for="cliente-direccion" class="form-label"&gt;Dirección&lt;/label&gt;</td></tr><tr><td class="line-number" value="1103"></td><td class="line-content">                        &lt;textarea class="form-control" id="cliente-direccion"&gt;${cliente ? cliente.direccion || '' : ''}&lt;/textarea&gt;</td></tr><tr><td class="line-number" value="1104"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1105"></td><td class="line-content">                    &lt;div class="modal-footer"&gt;</td></tr><tr><td class="line-number" value="1106"></td><td class="line-content">                        &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Cancelar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1107"></td><td class="line-content">                        &lt;button type="submit" class="btn btn-primary"&gt;Guardar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1108"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1109"></td><td class="line-content">                &lt;/form&gt;</td></tr><tr><td class="line-number" value="1110"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="1111"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1112"></td><td class="line-content">            modal.show();</td></tr><tr><td class="line-number" value="1113"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1114"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1115"></td><td class="line-content">        function guardarCliente(event) {</td></tr><tr><td class="line-number" value="1116"></td><td class="line-content">            event.preventDefault();</td></tr><tr><td class="line-number" value="1117"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1118"></td><td class="line-content">            const nombre = document.getElementById('cliente-nombre').value;</td></tr><tr><td class="line-number" value="1119"></td><td class="line-content">            const telefono = document.getElementById('cliente-telefono').value;</td></tr><tr><td class="line-number" value="1120"></td><td class="line-content">            const nit = document.getElementById('cliente-nit').value;</td></tr><tr><td class="line-number" value="1121"></td><td class="line-content">            const direccion = document.getElementById('cliente-direccion').value;</td></tr><tr><td class="line-number" value="1122"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1123"></td><td class="line-content">            if (!nombre) {</td></tr><tr><td class="line-number" value="1124"></td><td class="line-content">                showToast('Error', 'El nombre es obligatorio', 'danger');</td></tr><tr><td class="line-number" value="1125"></td><td class="line-content">                return;</td></tr><tr><td class="line-number" value="1126"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1127"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1128"></td><td class="line-content">            const cliente = { nombre, telefono, nit, direccion };</td></tr><tr><td class="line-number" value="1129"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1130"></td><td class="line-content">            const transaction = db.transaction(['cliente'], 'readwrite');</td></tr><tr><td class="line-number" value="1131"></td><td class="line-content">            const store = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="1132"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1133"></td><td class="line-content">            let request;</td></tr><tr><td class="line-number" value="1134"></td><td class="line-content">            if (editingId) {</td></tr><tr><td class="line-number" value="1135"></td><td class="line-content">                cliente.id = editingId;</td></tr><tr><td class="line-number" value="1136"></td><td class="line-content">                request = store.put(cliente);</td></tr><tr><td class="line-number" value="1137"></td><td class="line-content">            } else {</td></tr><tr><td class="line-number" value="1138"></td><td class="line-content">                request = store.add(cliente);</td></tr><tr><td class="line-number" value="1139"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1140"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1141"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1142"></td><td class="line-content">                modal.hide();</td></tr><tr><td class="line-number" value="1143"></td><td class="line-content">                showToast('Éxito', `Cliente ${editingId ? 'actualizado' : 'agregado'} correctamente`, 'success');</td></tr><tr><td class="line-number" value="1144"></td><td class="line-content">                cargarClientes();</td></tr><tr><td class="line-number" value="1145"></td><td class="line-content">                updateCounts();</td></tr><tr><td class="line-number" value="1146"></td><td class="line-content">                editingId = null;</td></tr><tr><td class="line-number" value="1147"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1148"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1149"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1150"></td><td class="line-content">        function editarCliente(id) {</td></tr><tr><td class="line-number" value="1151"></td><td class="line-content">            const transaction = db.transaction(['cliente'], 'readonly');</td></tr><tr><td class="line-number" value="1152"></td><td class="line-content">            const store = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="1153"></td><td class="line-content">            const request = store.get(id);</td></tr><tr><td class="line-number" value="1154"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1155"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1156"></td><td class="line-content">                showClienteForm(request.result);</td></tr><tr><td class="line-number" value="1157"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1158"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1159"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1160"></td><td class="line-content">        function eliminarCliente(id) {</td></tr><tr><td class="line-number" value="1161"></td><td class="line-content">            if (confirm('¿Está seguro de que desea eliminar este cliente?')) {</td></tr><tr><td class="line-number" value="1162"></td><td class="line-content">                const transaction = db.transaction(['cliente'], 'readwrite');</td></tr><tr><td class="line-number" value="1163"></td><td class="line-content">                const store = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="1164"></td><td class="line-content">                const request = store.delete(id);</td></tr><tr><td class="line-number" value="1165"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1166"></td><td class="line-content">                request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1167"></td><td class="line-content">                    showToast('Éxito', 'Cliente eliminado correctamente', 'success');</td></tr><tr><td class="line-number" value="1168"></td><td class="line-content">                    cargarClientes();</td></tr><tr><td class="line-number" value="1169"></td><td class="line-content">                    updateCounts();</td></tr><tr><td class="line-number" value="1170"></td><td class="line-content">                };</td></tr><tr><td class="line-number" value="1171"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1172"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1173"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1174"></td><td class="line-content">        // ========== FUNCIONES PARA PROVEEDORES ==========</td></tr><tr><td class="line-number" value="1175"></td><td class="line-content">        function cargarProveedores(busqueda = '') {</td></tr><tr><td class="line-number" value="1176"></td><td class="line-content">            const transaction = db.transaction(['proveedor'], 'readonly');</td></tr><tr><td class="line-number" value="1177"></td><td class="line-content">            const store = transaction.objectStore('proveedor');</td></tr><tr><td class="line-number" value="1178"></td><td class="line-content">            const request = store.getAll();</td></tr><tr><td class="line-number" value="1179"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1180"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1181"></td><td class="line-content">                let proveedores = request.result;</td></tr><tr><td class="line-number" value="1182"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1183"></td><td class="line-content">                if (busqueda) {</td></tr><tr><td class="line-number" value="1184"></td><td class="line-content">                    proveedores = proveedores.filter(p =&gt; </td></tr><tr><td class="line-number" value="1185"></td><td class="line-content">                        p.nombre.toLowerCase().includes(busqueda.toLowerCase())</td></tr><tr><td class="line-number" value="1186"></td><td class="line-content">                    );</td></tr><tr><td class="line-number" value="1187"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1188"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1189"></td><td class="line-content">                const tbody = document.getElementById('proveedores-table');</td></tr><tr><td class="line-number" value="1190"></td><td class="line-content">                tbody.innerHTML = '';</td></tr><tr><td class="line-number" value="1191"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1192"></td><td class="line-content">                proveedores.forEach(proveedor =&gt; {</td></tr><tr><td class="line-number" value="1193"></td><td class="line-content">                    const tr = document.createElement('tr');</td></tr><tr><td class="line-number" value="1194"></td><td class="line-content">                    tr.innerHTML = `</td></tr><tr><td class="line-number" value="1195"></td><td class="line-content">                        &lt;td&gt;${proveedor.id}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1196"></td><td class="line-content">                        &lt;td&gt;${proveedor.nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1197"></td><td class="line-content">                        &lt;td&gt;${proveedor.contacto || ''}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1198"></td><td class="line-content">                        &lt;td&gt;</td></tr><tr><td class="line-number" value="1199"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-warning" onclick="editarProveedor(${proveedor.id})"&gt;</td></tr><tr><td class="line-number" value="1200"></td><td class="line-content">                                &lt;i class="bi bi-pencil"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1201"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="1202"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-danger" onclick="eliminarProveedor(${proveedor.id})"&gt;</td></tr><tr><td class="line-number" value="1203"></td><td class="line-content">                                &lt;i class="bi bi-trash"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1204"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="1205"></td><td class="line-content">                        &lt;/td&gt;</td></tr><tr><td class="line-number" value="1206"></td><td class="line-content">                    `;</td></tr><tr><td class="line-number" value="1207"></td><td class="line-content">                    tbody.appendChild(tr);</td></tr><tr><td class="line-number" value="1208"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1209"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1210"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1211"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1212"></td><td class="line-content">        function buscarProveedores() {</td></tr><tr><td class="line-number" value="1213"></td><td class="line-content">            const busqueda = document.getElementById('search-proveedor').value;</td></tr><tr><td class="line-number" value="1214"></td><td class="line-content">            cargarProveedores(busqueda);</td></tr><tr><td class="line-number" value="1215"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1216"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1217"></td><td class="line-content">        function showProveedorForm(proveedor = null) {</td></tr><tr><td class="line-number" value="1218"></td><td class="line-content">            editingId = proveedor ? proveedor.id : null;</td></tr><tr><td class="line-number" value="1219"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1220"></td><td class="line-content">            document.getElementById('modalTitle').textContent = proveedor ? 'Editar Proveedor' : 'Nuevo Proveedor';</td></tr><tr><td class="line-number" value="1221"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1222"></td><td class="line-content">            document.getElementById('modalBody').innerHTML = `</td></tr><tr><td class="line-number" value="1223"></td><td class="line-content">                &lt;form onsubmit="guardarProveedor(event)"&gt;</td></tr><tr><td class="line-number" value="1224"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1225"></td><td class="line-content">                        &lt;label for="proveedor-nombre" class="form-label"&gt;Nombre&lt;/label&gt;</td></tr><tr><td class="line-number" value="1226"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="proveedor-nombre" value="${proveedor ? proveedor.nombre : ''}" required&gt;</td></tr><tr><td class="line-number" value="1227"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1228"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1229"></td><td class="line-content">                        &lt;label for="proveedor-contacto" class="form-label"&gt;Contacto&lt;/label&gt;</td></tr><tr><td class="line-number" value="1230"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="proveedor-contacto" value="${proveedor ? proveedor.contacto || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="1231"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1232"></td><td class="line-content">                    &lt;div class="modal-footer"&gt;</td></tr><tr><td class="line-number" value="1233"></td><td class="line-content">                        &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Cancelar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1234"></td><td class="line-content">                        &lt;button type="submit" class="btn btn-primary"&gt;Guardar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1235"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1236"></td><td class="line-content">                &lt;/form&gt;</td></tr><tr><td class="line-number" value="1237"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="1238"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1239"></td><td class="line-content">            modal.show();</td></tr><tr><td class="line-number" value="1240"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1241"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1242"></td><td class="line-content">        function guardarProveedor(event) {</td></tr><tr><td class="line-number" value="1243"></td><td class="line-content">            event.preventDefault();</td></tr><tr><td class="line-number" value="1244"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1245"></td><td class="line-content">            const nombre = document.getElementById('proveedor-nombre').value;</td></tr><tr><td class="line-number" value="1246"></td><td class="line-content">            const contacto = document.getElementById('proveedor-contacto').value;</td></tr><tr><td class="line-number" value="1247"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1248"></td><td class="line-content">            if (!nombre) {</td></tr><tr><td class="line-number" value="1249"></td><td class="line-content">                showToast('Error', 'El nombre es obligatorio', 'danger');</td></tr><tr><td class="line-number" value="1250"></td><td class="line-content">                return;</td></tr><tr><td class="line-number" value="1251"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1252"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1253"></td><td class="line-content">            const proveedor = { nombre, contacto };</td></tr><tr><td class="line-number" value="1254"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1255"></td><td class="line-content">            const transaction = db.transaction(['proveedor'], 'readwrite');</td></tr><tr><td class="line-number" value="1256"></td><td class="line-content">            const store = transaction.objectStore('proveedor');</td></tr><tr><td class="line-number" value="1257"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1258"></td><td class="line-content">            let request;</td></tr><tr><td class="line-number" value="1259"></td><td class="line-content">            if (editingId) {</td></tr><tr><td class="line-number" value="1260"></td><td class="line-content">                proveedor.id = editingId;</td></tr><tr><td class="line-number" value="1261"></td><td class="line-content">                request = store.put(proveedor);</td></tr><tr><td class="line-number" value="1262"></td><td class="line-content">            } else {</td></tr><tr><td class="line-number" value="1263"></td><td class="line-content">                request = store.add(proveedor);</td></tr><tr><td class="line-number" value="1264"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1265"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1266"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1267"></td><td class="line-content">                modal.hide();</td></tr><tr><td class="line-number" value="1268"></td><td class="line-content">                showToast('Éxito', `Proveedor ${editingId ? 'actualizado' : 'agregado'} correctamente`, 'success');</td></tr><tr><td class="line-number" value="1269"></td><td class="line-content">                cargarProveedores();</td></tr><tr><td class="line-number" value="1270"></td><td class="line-content">                updateCounts();</td></tr><tr><td class="line-number" value="1271"></td><td class="line-content">                editingId = null;</td></tr><tr><td class="line-number" value="1272"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1273"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1274"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1275"></td><td class="line-content">        function editarProveedor(id) {</td></tr><tr><td class="line-number" value="1276"></td><td class="line-content">            const transaction = db.transaction(['proveedor'], 'readonly');</td></tr><tr><td class="line-number" value="1277"></td><td class="line-content">            const store = transaction.objectStore('proveedor');</td></tr><tr><td class="line-number" value="1278"></td><td class="line-content">            const request = store.get(id);</td></tr><tr><td class="line-number" value="1279"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1280"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1281"></td><td class="line-content">                showProveedorForm(request.result);</td></tr><tr><td class="line-number" value="1282"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1283"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1284"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1285"></td><td class="line-content">        function eliminarProveedor(id) {</td></tr><tr><td class="line-number" value="1286"></td><td class="line-content">            if (confirm('¿Está seguro de que desea eliminar este proveedor?')) {</td></tr><tr><td class="line-number" value="1287"></td><td class="line-content">                const transaction = db.transaction(['proveedor'], 'readwrite');</td></tr><tr><td class="line-number" value="1288"></td><td class="line-content">                const store = transaction.objectStore('proveedor');</td></tr><tr><td class="line-number" value="1289"></td><td class="line-content">                const request = store.delete(id);</td></tr><tr><td class="line-number" value="1290"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1291"></td><td class="line-content">                request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1292"></td><td class="line-content">                    showToast('Éxito', 'Proveedor eliminado correctamente', 'success');</td></tr><tr><td class="line-number" value="1293"></td><td class="line-content">                    cargarProveedores();</td></tr><tr><td class="line-number" value="1294"></td><td class="line-content">                    updateCounts();</td></tr><tr><td class="line-number" value="1295"></td><td class="line-content">                };</td></tr><tr><td class="line-number" value="1296"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1297"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1298"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1299"></td><td class="line-content">        // ========== FUNCIONES PARA EMPLEADOS ==========</td></tr><tr><td class="line-number" value="1300"></td><td class="line-content">        function cargarEmpleados(busqueda = '') {</td></tr><tr><td class="line-number" value="1301"></td><td class="line-content">            const transaction = db.transaction(['empleado'], 'readonly');</td></tr><tr><td class="line-number" value="1302"></td><td class="line-content">            const store = transaction.objectStore('empleado');</td></tr><tr><td class="line-number" value="1303"></td><td class="line-content">            const request = store.getAll();</td></tr><tr><td class="line-number" value="1304"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1305"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1306"></td><td class="line-content">                let empleados = request.result;</td></tr><tr><td class="line-number" value="1307"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1308"></td><td class="line-content">                if (busqueda) {</td></tr><tr><td class="line-number" value="1309"></td><td class="line-content">                    empleados = empleados.filter(e =&gt; </td></tr><tr><td class="line-number" value="1310"></td><td class="line-content">                        e.nombre.toLowerCase().includes(busqueda.toLowerCase())</td></tr><tr><td class="line-number" value="1311"></td><td class="line-content">                    );</td></tr><tr><td class="line-number" value="1312"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1313"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1314"></td><td class="line-content">                const tbody = document.getElementById('empleados-table');</td></tr><tr><td class="line-number" value="1315"></td><td class="line-content">                tbody.innerHTML = '';</td></tr><tr><td class="line-number" value="1316"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1317"></td><td class="line-content">                empleados.forEach(empleado =&gt; {</td></tr><tr><td class="line-number" value="1318"></td><td class="line-content">                    const tr = document.createElement('tr');</td></tr><tr><td class="line-number" value="1319"></td><td class="line-content">                    tr.innerHTML = `</td></tr><tr><td class="line-number" value="1320"></td><td class="line-content">                        &lt;td&gt;${empleado.id}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1321"></td><td class="line-content">                        &lt;td&gt;${empleado.nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1322"></td><td class="line-content">                        &lt;td&gt;${empleado.cargo || ''}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1323"></td><td class="line-content">                        &lt;td&gt;$${empleado.salario ? empleado.salario.toFixed(2) : '0.00'}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1324"></td><td class="line-content">                        &lt;td&gt;</td></tr><tr><td class="line-number" value="1325"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-warning" onclick="editarEmpleado(${empleado.id})"&gt;</td></tr><tr><td class="line-number" value="1326"></td><td class="line-content">                                &lt;i class="bi bi-pencil"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1327"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="1328"></td><td class="line-content">                            &lt;button class="btn btn-sm btn-danger" onclick="eliminarEmpleado(${empleado.id})"&gt;</td></tr><tr><td class="line-number" value="1329"></td><td class="line-content">                                &lt;i class="bi bi-trash"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1330"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="1331"></td><td class="line-content">                        &lt;/td&gt;</td></tr><tr><td class="line-number" value="1332"></td><td class="line-content">                    `;</td></tr><tr><td class="line-number" value="1333"></td><td class="line-content">                    tbody.appendChild(tr);</td></tr><tr><td class="line-number" value="1334"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1335"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1336"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1337"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1338"></td><td class="line-content">        function buscarEmpleados() {</td></tr><tr><td class="line-number" value="1339"></td><td class="line-content">            const busqueda = document.getElementById('search-empleado').value;</td></tr><tr><td class="line-number" value="1340"></td><td class="line-content">            cargarEmpleados(busqueda);</td></tr><tr><td class="line-number" value="1341"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1342"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1343"></td><td class="line-content">        function showEmpleadoForm(empleado = null) {</td></tr><tr><td class="line-number" value="1344"></td><td class="line-content">            editingId = empleado ? empleado.id : null;</td></tr><tr><td class="line-number" value="1345"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1346"></td><td class="line-content">            document.getElementById('modalTitle').textContent = empleado ? 'Editar Empleado' : 'Nuevo Empleado';</td></tr><tr><td class="line-number" value="1347"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1348"></td><td class="line-content">            document.getElementById('modalBody').innerHTML = `</td></tr><tr><td class="line-number" value="1349"></td><td class="line-content">                &lt;form onsubmit="guardarEmpleado(event)"&gt;</td></tr><tr><td class="line-number" value="1350"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1351"></td><td class="line-content">                        &lt;label for="empleado-nombre" class="form-label"&gt;Nombre&lt;/label&gt;</td></tr><tr><td class="line-number" value="1352"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="empleado-nombre" value="${empleado ? empleado.nombre : ''}" required&gt;</td></tr><tr><td class="line-number" value="1353"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1354"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1355"></td><td class="line-content">                        &lt;label for="empleado-cargo" class="form-label"&gt;Cargo&lt;/label&gt;</td></tr><tr><td class="line-number" value="1356"></td><td class="line-content">                        &lt;input type="text" class="form-control" id="empleado-cargo" value="${empleado ? empleado.cargo || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="1357"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1358"></td><td class="line-content">                    &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1359"></td><td class="line-content">                        &lt;label for="empleado-salario" class="form-label"&gt;Salario&lt;/label&gt;</td></tr><tr><td class="line-number" value="1360"></td><td class="line-content">                        &lt;input type="number" step="0.01" class="form-control" id="empleado-salario" value="${empleado ? empleado.salario || 0 : 0}"&gt;</td></tr><tr><td class="line-number" value="1361"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1362"></td><td class="line-content">                    &lt;div class="modal-footer"&gt;</td></tr><tr><td class="line-number" value="1363"></td><td class="line-content">                        &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Cancelar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1364"></td><td class="line-content">                        &lt;button type="submit" class="btn btn-primary"&gt;Guardar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1365"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1366"></td><td class="line-content">                &lt;/form&gt;</td></tr><tr><td class="line-number" value="1367"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="1368"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1369"></td><td class="line-content">            modal.show();</td></tr><tr><td class="line-number" value="1370"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1371"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1372"></td><td class="line-content">        function guardarEmpleado(event) {</td></tr><tr><td class="line-number" value="1373"></td><td class="line-content">            event.preventDefault();</td></tr><tr><td class="line-number" value="1374"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1375"></td><td class="line-content">            const nombre = document.getElementById('empleado-nombre').value;</td></tr><tr><td class="line-number" value="1376"></td><td class="line-content">            const cargo = document.getElementById('empleado-cargo').value;</td></tr><tr><td class="line-number" value="1377"></td><td class="line-content">            const salario = parseFloat(document.getElementById('empleado-salario').value) || 0;</td></tr><tr><td class="line-number" value="1378"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1379"></td><td class="line-content">            if (!nombre) {</td></tr><tr><td class="line-number" value="1380"></td><td class="line-content">                showToast('Error', 'El nombre es obligatorio', 'danger');</td></tr><tr><td class="line-number" value="1381"></td><td class="line-content">                return;</td></tr><tr><td class="line-number" value="1382"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1383"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1384"></td><td class="line-content">            const empleado = { nombre, cargo, salario };</td></tr><tr><td class="line-number" value="1385"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1386"></td><td class="line-content">            const transaction = db.transaction(['empleado'], 'readwrite');</td></tr><tr><td class="line-number" value="1387"></td><td class="line-content">            const store = transaction.objectStore('empleado');</td></tr><tr><td class="line-number" value="1388"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1389"></td><td class="line-content">            let request;</td></tr><tr><td class="line-number" value="1390"></td><td class="line-content">            if (editingId) {</td></tr><tr><td class="line-number" value="1391"></td><td class="line-content">                empleado.id = editingId;</td></tr><tr><td class="line-number" value="1392"></td><td class="line-content">                request = store.put(empleado);</td></tr><tr><td class="line-number" value="1393"></td><td class="line-content">            } else {</td></tr><tr><td class="line-number" value="1394"></td><td class="line-content">                request = store.add(empleado);</td></tr><tr><td class="line-number" value="1395"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1396"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1397"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1398"></td><td class="line-content">                modal.hide();</td></tr><tr><td class="line-number" value="1399"></td><td class="line-content">                showToast('Éxito', `Empleado ${editingId ? 'actualizado' : 'agregado'} correctamente`, 'success');</td></tr><tr><td class="line-number" value="1400"></td><td class="line-content">                cargarEmpleados();</td></tr><tr><td class="line-number" value="1401"></td><td class="line-content">                updateCounts();</td></tr><tr><td class="line-number" value="1402"></td><td class="line-content">                editingId = null;</td></tr><tr><td class="line-number" value="1403"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1404"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1405"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1406"></td><td class="line-content">        function editarEmpleado(id) {</td></tr><tr><td class="line-number" value="1407"></td><td class="line-content">            const transaction = db.transaction(['empleado'], 'readonly');</td></tr><tr><td class="line-number" value="1408"></td><td class="line-content">            const store = transaction.objectStore('empleado');</td></tr><tr><td class="line-number" value="1409"></td><td class="line-content">            const request = store.get(id);</td></tr><tr><td class="line-number" value="1410"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1411"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1412"></td><td class="line-content">                showEmpleadoForm(request.result);</td></tr><tr><td class="line-number" value="1413"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1414"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1415"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1416"></td><td class="line-content">        function eliminarEmpleado(id) {</td></tr><tr><td class="line-number" value="1417"></td><td class="line-content">            if (confirm('¿Está seguro de que desea eliminar este empleado?')) {</td></tr><tr><td class="line-number" value="1418"></td><td class="line-content">                const transaction = db.transaction(['empleado'], 'readwrite');</td></tr><tr><td class="line-number" value="1419"></td><td class="line-content">                const store = transaction.objectStore('empleado');</td></tr><tr><td class="line-number" value="1420"></td><td class="line-content">                const request = store.delete(id);</td></tr><tr><td class="line-number" value="1421"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1422"></td><td class="line-content">                request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1423"></td><td class="line-content">                    showToast('Éxito', 'Empleado eliminado correctamente', 'success');</td></tr><tr><td class="line-number" value="1424"></td><td class="line-content">                    cargarEmpleados();</td></tr><tr><td class="line-number" value="1425"></td><td class="line-content">                    updateCounts();</td></tr><tr><td class="line-number" value="1426"></td><td class="line-content">                };</td></tr><tr><td class="line-number" value="1427"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1428"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1429"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1430"></td><td class="line-content">        // ========== FUNCIONES PARA VENTAS ==========</td></tr><tr><td class="line-number" value="1431"></td><td class="line-content">        function cargarVentas(busqueda = '') {</td></tr><tr><td class="line-number" value="1432"></td><td class="line-content">            const transaction = db.transaction(['venta', 'cliente'], 'readonly');</td></tr><tr><td class="line-number" value="1433"></td><td class="line-content">            const ventaStore = transaction.objectStore('venta');</td></tr><tr><td class="line-number" value="1434"></td><td class="line-content">            const clienteStore = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="1435"></td><td class="line-content">            const request = ventaStore.getAll();</td></tr><tr><td class="line-number" value="1436"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1437"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1438"></td><td class="line-content">                let ventas = request.result;</td></tr><tr><td class="line-number" value="1439"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1440"></td><td class="line-content">                if (busqueda) {</td></tr><tr><td class="line-number" value="1441"></td><td class="line-content">                    ventas = ventas.filter(v =&gt; </td></tr><tr><td class="line-number" value="1442"></td><td class="line-content">                        (v.cliente_nombre &amp;&amp; v.cliente_nombre.toLowerCase().includes(busqueda.toLowerCase())) ||</td></tr><tr><td class="line-number" value="1443"></td><td class="line-content">                        (v.cliente &amp;&amp; v.cliente.toLowerCase().includes(busqueda.toLowerCase()))</td></tr><tr><td class="line-number" value="1444"></td><td class="line-content">                    );</td></tr><tr><td class="line-number" value="1445"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1446"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1447"></td><td class="line-content">                const tbody = document.getElementById('ventas-table');</td></tr><tr><td class="line-number" value="1448"></td><td class="line-content">                tbody.innerHTML = '';</td></tr><tr><td class="line-number" value="1449"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1450"></td><td class="line-content">                // Obtener nombres de clientes para cada venta</td></tr><tr><td class="line-number" value="1451"></td><td class="line-content">                const promises = ventas.map(venta =&gt; {</td></tr><tr><td class="line-number" value="1452"></td><td class="line-content">                    return new Promise(resolve =&gt; {</td></tr><tr><td class="line-number" value="1453"></td><td class="line-content">                        if (venta.cliente_id) {</td></tr><tr><td class="line-number" value="1454"></td><td class="line-content">                            const clienteRequest = clienteStore.get(venta.cliente_id);</td></tr><tr><td class="line-number" value="1455"></td><td class="line-content">                            clienteRequest.onsuccess = function() {</td></tr><tr><td class="line-number" value="1456"></td><td class="line-content">                                venta.cliente_nombre = clienteRequest.result ? clienteRequest.result.nombre : 'Cliente no encontrado';</td></tr><tr><td class="line-number" value="1457"></td><td class="line-content">                                resolve(venta);</td></tr><tr><td class="line-number" value="1458"></td><td class="line-content">                            };</td></tr><tr><td class="line-number" value="1459"></td><td class="line-content">                            clienteRequest.onerror = function() {</td></tr><tr><td class="line-number" value="1460"></td><td class="line-content">                                venta.cliente_nombre = venta.cliente || 'Cliente no especificado';</td></tr><tr><td class="line-number" value="1461"></td><td class="line-content">                                resolve(venta);</td></tr><tr><td class="line-number" value="1462"></td><td class="line-content">                            };</td></tr><tr><td class="line-number" value="1463"></td><td class="line-content">                        } else {</td></tr><tr><td class="line-number" value="1464"></td><td class="line-content">                            venta.cliente_nombre = venta.cliente || 'Cliente no especificado';</td></tr><tr><td class="line-number" value="1465"></td><td class="line-content">                            resolve(venta);</td></tr><tr><td class="line-number" value="1466"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="1467"></td><td class="line-content">                    });</td></tr><tr><td class="line-number" value="1468"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1469"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1470"></td><td class="line-content">                Promise.all(promises).then(ventasConNombres =&gt; {</td></tr><tr><td class="line-number" value="1471"></td><td class="line-content">                    ventasConNombres.forEach(venta =&gt; {</td></tr><tr><td class="line-number" value="1472"></td><td class="line-content">                        const tr = document.createElement('tr');</td></tr><tr><td class="line-number" value="1473"></td><td class="line-content">                        tr.innerHTML = `</td></tr><tr><td class="line-number" value="1474"></td><td class="line-content">                            &lt;td&gt;${venta.id}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1475"></td><td class="line-content">                            &lt;td&gt;${venta.fecha}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1476"></td><td class="line-content">                            &lt;td&gt;${venta.cliente_nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1477"></td><td class="line-content">                            &lt;td&gt;${venta.nit || ''}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1478"></td><td class="line-content">                            &lt;td&gt;$${venta.total.toFixed(2)}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1479"></td><td class="line-content">                            &lt;td&gt;</td></tr><tr><td class="line-number" value="1480"></td><td class="line-content">                                &lt;button class="btn btn-sm btn-info" onclick="verDetalleVenta(${venta.id})"&gt;</td></tr><tr><td class="line-number" value="1481"></td><td class="line-content">                                    &lt;i class="bi bi-eye"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1482"></td><td class="line-content">                                &lt;/button&gt;</td></tr><tr><td class="line-number" value="1483"></td><td class="line-content">                                &lt;button class="btn btn-sm btn-success" onclick="imprimirRecibo(${venta.id})"&gt;</td></tr><tr><td class="line-number" value="1484"></td><td class="line-content">                                    &lt;i class="bi bi-printer"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1485"></td><td class="line-content">                                &lt;/button&gt;</td></tr><tr><td class="line-number" value="1486"></td><td class="line-content">                                &lt;button class="btn btn-sm btn-danger" onclick="eliminarVenta(${venta.id})"&gt;</td></tr><tr><td class="line-number" value="1487"></td><td class="line-content">                                    &lt;i class="bi bi-trash"&gt;&lt;/i&gt;</td></tr><tr><td class="line-number" value="1488"></td><td class="line-content">                                &lt;/button&gt;</td></tr><tr><td class="line-number" value="1489"></td><td class="line-content">                            &lt;/td&gt;</td></tr><tr><td class="line-number" value="1490"></td><td class="line-content">                        `;</td></tr><tr><td class="line-number" value="1491"></td><td class="line-content">                        tbody.appendChild(tr);</td></tr><tr><td class="line-number" value="1492"></td><td class="line-content">                    });</td></tr><tr><td class="line-number" value="1493"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1494"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1495"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1496"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1497"></td><td class="line-content">        function buscarVentas() {</td></tr><tr><td class="line-number" value="1498"></td><td class="line-content">            const busqueda = document.getElementById('search-venta').value;</td></tr><tr><td class="line-number" value="1499"></td><td class="line-content">            cargarVentas(busqueda);</td></tr><tr><td class="line-number" value="1500"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1501"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1502"></td><td class="line-content">        function showVentaForm(venta = null) {</td></tr><tr><td class="line-number" value="1503"></td><td class="line-content">            editingId = venta ? venta.id : null;</td></tr><tr><td class="line-number" value="1504"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1505"></td><td class="line-content">            document.getElementById('modalTitle').textContent = venta ? 'Editar Venta' : 'Nueva Venta';</td></tr><tr><td class="line-number" value="1506"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1507"></td><td class="line-content">            // Cargar clientes para el selector</td></tr><tr><td class="line-number" value="1508"></td><td class="line-content">            const transaction = db.transaction(['cliente'], 'readonly');</td></tr><tr><td class="line-number" value="1509"></td><td class="line-content">            const store = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="1510"></td><td class="line-content">            const request = store.getAll();</td></tr><tr><td class="line-number" value="1511"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1512"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1513"></td><td class="line-content">                const clientes = request.result;</td></tr><tr><td class="line-number" value="1514"></td><td class="line-content">                let clienteOptions = '&lt;option value=""&gt;Seleccionar cliente...&lt;/option&gt;';</td></tr><tr><td class="line-number" value="1515"></td><td class="line-content">                clientes.forEach(cliente =&gt; {</td></tr><tr><td class="line-number" value="1516"></td><td class="line-content">                    const selected = venta &amp;&amp; venta.cliente_id === cliente.id ? 'selected' : '';</td></tr><tr><td class="line-number" value="1517"></td><td class="line-content">                    clienteOptions += `&lt;option value="${cliente.id}" ${selected} data-nit="${cliente.nit || ''}" data-direccion="${cliente.direccion || ''}" data-telefono="${cliente.telefono || ''}"&gt;${cliente.nombre}&lt;/option&gt;`;</td></tr><tr><td class="line-number" value="1518"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1519"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1520"></td><td class="line-content">                // Cargar productos para el selector</td></tr><tr><td class="line-number" value="1521"></td><td class="line-content">                const productoTransaction = db.transaction(['producto'], 'readonly');</td></tr><tr><td class="line-number" value="1522"></td><td class="line-content">                const productoStore = productoTransaction.objectStore('producto');</td></tr><tr><td class="line-number" value="1523"></td><td class="line-content">                const productoRequest = productoStore.getAll();</td></tr><tr><td class="line-number" value="1524"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1525"></td><td class="line-content">                productoRequest.onsuccess = function() {</td></tr><tr><td class="line-number" value="1526"></td><td class="line-content">                    const productos = productoRequest.result;</td></tr><tr><td class="line-number" value="1527"></td><td class="line-content">                    let productoOptions = '&lt;option value=""&gt;Seleccionar producto...&lt;/option&gt;';</td></tr><tr><td class="line-number" value="1528"></td><td class="line-content">                    productos.forEach(producto =&gt; {</td></tr><tr><td class="line-number" value="1529"></td><td class="line-content">                        productoOptions += `&lt;option value="${producto.id}" data-precio="${producto.precio_unitario}" data-codigo="${producto.codigo_barras || ''}"&gt;${producto.nombre} - $${producto.precio_unitario.toFixed(2)}&lt;/option&gt;`;</td></tr><tr><td class="line-number" value="1530"></td><td class="line-content">                    });</td></tr><tr><td class="line-number" value="1531"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="1532"></td><td class="line-content">                    // Construir el formulario</td></tr><tr><td class="line-number" value="1533"></td><td class="line-content">                    let productosHTML = '';</td></tr><tr><td class="line-number" value="1534"></td><td class="line-content">                    if (venta &amp;&amp; venta.productos) {</td></tr><tr><td class="line-number" value="1535"></td><td class="line-content">                        venta.productos.forEach((prod, index) =&gt; {</td></tr><tr><td class="line-number" value="1536"></td><td class="line-content">                            productosHTML += `</td></tr><tr><td class="line-number" value="1537"></td><td class="line-content">                                &lt;div class="row producto-item mb-2" data-id="${prod.id || ''}"&gt;</td></tr><tr><td class="line-number" value="1538"></td><td class="line-content">                                    &lt;div class="col-md-5"&gt;</td></tr><tr><td class="line-number" value="1539"></td><td class="line-content">                                        &lt;select class="form-select producto-select" onchange="actualizarPrecio(this)" required&gt;</td></tr><tr><td class="line-number" value="1540"></td><td class="line-content">                                            &lt;option value=""&gt;Seleccionar producto...&lt;/option&gt;</td></tr><tr><td class="line-number" value="1541"></td><td class="line-content">                                            ${productoOptions.replace(`value="${prod.id}"`, `value="${prod.id}" selected`)}</td></tr><tr><td class="line-number" value="1542"></td><td class="line-content">                                        &lt;/select&gt;</td></tr><tr><td class="line-number" value="1543"></td><td class="line-content">                                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1544"></td><td class="line-content">                                    &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1545"></td><td class="line-content">                                        &lt;input type="number" class="form-control cantidad" min="1" value="${prod.cantidad || 1}" onchange="calcularSubtotal(this)" required&gt;</td></tr><tr><td class="line-number" value="1546"></td><td class="line-content">                                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1547"></td><td class="line-content">                                    &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1548"></td><td class="line-content">                                        &lt;input type="number" step="0.01" class="form-control precio" value="${prod.precio || 0}" readonly&gt;</td></tr><tr><td class="line-number" value="1549"></td><td class="line-content">                                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1550"></td><td class="line-content">                                    &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1551"></td><td class="line-content">                                        &lt;input type="number" step="0.01" class="form-control subtotal" value="${prod.subtotal || 0}" readonly&gt;</td></tr><tr><td class="line-number" value="1552"></td><td class="line-content">                                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1553"></td><td class="line-content">                                    &lt;div class="col-md-1"&gt;</td></tr><tr><td class="line-number" value="1554"></td><td class="line-content">                                        &lt;button type="button" class="btn btn-danger btn-sm" onclick="eliminarProductoVenta(this)"&gt;X&lt;/button&gt;</td></tr><tr><td class="line-number" value="1555"></td><td class="line-content">                                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1556"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1557"></td><td class="line-content">                            `;</td></tr><tr><td class="line-number" value="1558"></td><td class="line-content">                        });</td></tr><tr><td class="line-number" value="1559"></td><td class="line-content">                    } else {</td></tr><tr><td class="line-number" value="1560"></td><td class="line-content">                        productosHTML = `</td></tr><tr><td class="line-number" value="1561"></td><td class="line-content">                            &lt;div class="row producto-item mb-2"&gt;</td></tr><tr><td class="line-number" value="1562"></td><td class="line-content">                                &lt;div class="col-md-5"&gt;</td></tr><tr><td class="line-number" value="1563"></td><td class="line-content">                                    &lt;select class="form-select producto-select" onchange="actualizarPrecio(this)" required&gt;</td></tr><tr><td class="line-number" value="1564"></td><td class="line-content">                                        ${productoOptions}</td></tr><tr><td class="line-number" value="1565"></td><td class="line-content">                                    &lt;/select&gt;</td></tr><tr><td class="line-number" value="1566"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1567"></td><td class="line-content">                                &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1568"></td><td class="line-content">                                    &lt;input type="number" class="form-control cantidad" min="1" value="1" onchange="calcularSubtotal(this)" required&gt;</td></tr><tr><td class="line-number" value="1569"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1570"></td><td class="line-content">                                &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1571"></td><td class="line-content">                                    &lt;input type="number" step="0.01" class="form-control precio" value="0" readonly&gt;</td></tr><tr><td class="line-number" value="1572"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1573"></td><td class="line-content">                                &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1574"></td><td class="line-content">                                    &lt;input type="number" step="0.01" class="form-control subtotal" value="0" readonly&gt;</td></tr><tr><td class="line-number" value="1575"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1576"></td><td class="line-content">                                &lt;div class="col-md-1"&gt;</td></tr><tr><td class="line-number" value="1577"></td><td class="line-content">                                    &lt;button type="button" class="btn btn-danger btn-sm" onclick="eliminarProductoVenta(this)"&gt;X&lt;/button&gt;</td></tr><tr><td class="line-number" value="1578"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1579"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1580"></td><td class="line-content">                        `;</td></tr><tr><td class="line-number" value="1581"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="1582"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="1583"></td><td class="line-content">                    document.getElementById('modalBody').innerHTML = `</td></tr><tr><td class="line-number" value="1584"></td><td class="line-content">                        &lt;form onsubmit="guardarVenta(event)"&gt;</td></tr><tr><td class="line-number" value="1585"></td><td class="line-content">                            &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1586"></td><td class="line-content">                                &lt;label for="venta-fecha" class="form-label"&gt;Fecha&lt;/label&gt;</td></tr><tr><td class="line-number" value="1587"></td><td class="line-content">                                &lt;input type="date" class="form-control" id="venta-fecha" value="${venta ? venta.fecha : new Date().toISOString().split('T')[0]}" required&gt;</td></tr><tr><td class="line-number" value="1588"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1589"></td><td class="line-content">                            &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1590"></td><td class="line-content">                                &lt;label for="venta-cliente" class="form-label"&gt;Cliente&lt;/label&gt;</td></tr><tr><td class="line-number" value="1591"></td><td class="line-content">                                &lt;select class="form-select" id="venta-cliente" onchange="actualizarDatosCliente()"&gt;</td></tr><tr><td class="line-number" value="1592"></td><td class="line-content">                                    ${clienteOptions}</td></tr><tr><td class="line-number" value="1593"></td><td class="line-content">                                &lt;/select&gt;</td></tr><tr><td class="line-number" value="1594"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1595"></td><td class="line-content">                            &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1596"></td><td class="line-content">                                &lt;label for="venta-nit" class="form-label"&gt;NIT&lt;/label&gt;</td></tr><tr><td class="line-number" value="1597"></td><td class="line-content">                                &lt;input type="text" class="form-control" id="venta-nit" value="${venta ? venta.nit || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="1598"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1599"></td><td class="line-content">                            &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1600"></td><td class="line-content">                                &lt;label for="venta-direccion" class="form-label"&gt;Dirección&lt;/label&gt;</td></tr><tr><td class="line-number" value="1601"></td><td class="line-content">                                &lt;input type="text" class="form-control" id="venta-direccion" value="${venta ? venta.direccion || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="1602"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1603"></td><td class="line-content">                            &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1604"></td><td class="line-content">                                &lt;label for="venta-telefono" class="form-label"&gt;Teléfono&lt;/label&gt;</td></tr><tr><td class="line-number" value="1605"></td><td class="line-content">                                &lt;input type="text" class="form-control" id="venta-telefono" value="${venta ? venta.telefono || '' : ''}"&gt;</td></tr><tr><td class="line-number" value="1606"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1607"></td><td class="line-content">                            </td></tr><tr><td class="line-number" value="1608"></td><td class="line-content">                            &lt;h5&gt;Productos </td></tr><tr><td class="line-number" value="1609"></td><td class="line-content">                                &lt;button type="button" class="btn btn-sm btn-outline-primary ms-2" onclick="abrirLectorCodigoBarras()"&gt;</td></tr><tr><td class="line-number" value="1610"></td><td class="line-content">                                    &lt;i class="bi bi-upc-scan"&gt;&lt;/i&gt; Escanear código</td></tr><tr><td class="line-number" value="1611"></td><td class="line-content">                                &lt;/button&gt;</td></tr><tr><td class="line-number" value="1612"></td><td class="line-content">                            &lt;/h5&gt;</td></tr><tr><td class="line-number" value="1613"></td><td class="line-content">                            &lt;div id="productos-container"&gt;</td></tr><tr><td class="line-number" value="1614"></td><td class="line-content">                                ${productosHTML}</td></tr><tr><td class="line-number" value="1615"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1616"></td><td class="line-content">                            </td></tr><tr><td class="line-number" value="1617"></td><td class="line-content">                            &lt;button type="button" class="btn btn-secondary btn-sm mt-2 mb-3" onclick="agregarProductoVenta()"&gt;</td></tr><tr><td class="line-number" value="1618"></td><td class="line-content">                                &lt;i class="bi bi-plus"&gt;&lt;/i&gt; Agregar Producto</td></tr><tr><td class="line-number" value="1619"></td><td class="line-content">                            &lt;/button&gt;</td></tr><tr><td class="line-number" value="1620"></td><td class="line-content">                            </td></tr><tr><td class="line-number" value="1621"></td><td class="line-content">                            &lt;div class="row mt-3"&gt;</td></tr><tr><td class="line-number" value="1622"></td><td class="line-content">                                &lt;div class="col-md-6"&gt;</td></tr><tr><td class="line-number" value="1623"></td><td class="line-content">                                    &lt;div class="form-group"&gt;</td></tr><tr><td class="line-number" value="1624"></td><td class="line-content">                                        &lt;label for="venta-subtotal" class="form-label"&gt;Subtotal&lt;/label&gt;</td></tr><tr><td class="line-number" value="1625"></td><td class="line-content">                                        &lt;input type="number" step="0.01" class="form-control" id="venta-subtotal" value="${venta ? venta.subtotal || 0 : 0}" readonly&gt;</td></tr><tr><td class="line-number" value="1626"></td><td class="line-content">                                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1627"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1628"></td><td class="line-content">                                &lt;div class="col-md-6"&gt;</td></tr><tr><td class="line-number" value="1629"></td><td class="line-content">                                    &lt;div class="form-group"&gt;</td></tr><tr><td class="line-number" value="1630"></td><td class="line-content">                                        &lt;label for="venta-total" class="form-label"&gt;Total&lt;/label&gt;</td></tr><tr><td class="line-number" value="1631"></td><td class="line-content">                                        &lt;input type="number" step="0.01" class="form-control" id="venta-total" value="${venta ? venta.total || 0 : 0}" readonly&gt;</td></tr><tr><td class="line-number" value="1632"></td><td class="line-content">                                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1633"></td><td class="line-content">                                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1634"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1635"></td><td class="line-content">                            </td></tr><tr><td class="line-number" value="1636"></td><td class="line-content">                            &lt;div class="modal-footer"&gt;</td></tr><tr><td class="line-number" value="1637"></td><td class="line-content">                                &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Cancelar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1638"></td><td class="line-content">                                &lt;button type="submit" class="btn btn-primary"&gt;Guardar&lt;/button&gt;</td></tr><tr><td class="line-number" value="1639"></td><td class="line-content">                            &lt;/div&gt;</td></tr><tr><td class="line-number" value="1640"></td><td class="line-content">                        &lt;/form&gt;</td></tr><tr><td class="line-number" value="1641"></td><td class="line-content">                    `;</td></tr><tr><td class="line-number" value="1642"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="1643"></td><td class="line-content">                    modal.show();</td></tr><tr><td class="line-number" value="1644"></td><td class="line-content">                    calcularTotalVenta();</td></tr><tr><td class="line-number" value="1645"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="1646"></td><td class="line-content">                    // Si estamos editando, actualizar precios de productos existentes</td></tr><tr><td class="line-number" value="1647"></td><td class="line-content">                    if (venta &amp;&amp; venta.productos) {</td></tr><tr><td class="line-number" value="1648"></td><td class="line-content">                        setTimeout(() =&gt; {</td></tr><tr><td class="line-number" value="1649"></td><td class="line-content">                            document.querySelectorAll('.producto-select').forEach(select =&gt; {</td></tr><tr><td class="line-number" value="1650"></td><td class="line-content">                                if (select.value) {</td></tr><tr><td class="line-number" value="1651"></td><td class="line-content">                                    actualizarPrecio(select);</td></tr><tr><td class="line-number" value="1652"></td><td class="line-content">                                }</td></tr><tr><td class="line-number" value="1653"></td><td class="line-content">                            });</td></tr><tr><td class="line-number" value="1654"></td><td class="line-content">                        }, 100);</td></tr><tr><td class="line-number" value="1655"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="1656"></td><td class="line-content">                };</td></tr><tr><td class="line-number" value="1657"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1658"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1659"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1660"></td><td class="line-content">        function actualizarDatosCliente() {</td></tr><tr><td class="line-number" value="1661"></td><td class="line-content">            const clienteSelect = document.getElementById('venta-cliente');</td></tr><tr><td class="line-number" value="1662"></td><td class="line-content">            const selectedOption = clienteSelect.options[clienteSelect.selectedIndex];</td></tr><tr><td class="line-number" value="1663"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1664"></td><td class="line-content">            if (selectedOption &amp;&amp; selectedOption.value) {</td></tr><tr><td class="line-number" value="1665"></td><td class="line-content">                document.getElementById('venta-nit').value = selectedOption.getAttribute('data-nit') || '';</td></tr><tr><td class="line-number" value="1666"></td><td class="line-content">                document.getElementById('venta-direccion').value = selectedOption.getAttribute('data-direccion') || '';</td></tr><tr><td class="line-number" value="1667"></td><td class="line-content">                document.getElementById('venta-telefono').value = selectedOption.getAttribute('data-telefono') || '';</td></tr><tr><td class="line-number" value="1668"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1669"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1670"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1671"></td><td class="line-content">        function abrirLectorCodigoBarras() {</td></tr><tr><td class="line-number" value="1672"></td><td class="line-content">            barcodeModal.show();</td></tr><tr><td class="line-number" value="1673"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1674"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1675"></td><td class="line-content">        function startBarcodeScanner() {</td></tr><tr><td class="line-number" value="1676"></td><td class="line-content">            if (!quaggaInitialized) {</td></tr><tr><td class="line-number" value="1677"></td><td class="line-content">                Quagga.init({</td></tr><tr><td class="line-number" value="1678"></td><td class="line-content">                    inputStream: {</td></tr><tr><td class="line-number" value="1679"></td><td class="line-content">                        name: "Live",</td></tr><tr><td class="line-number" value="1680"></td><td class="line-content">                        type: "LiveStream",</td></tr><tr><td class="line-number" value="1681"></td><td class="line-content">                        target: document.querySelector('#barcode-video'),</td></tr><tr><td class="line-number" value="1682"></td><td class="line-content">                        constraints: {</td></tr><tr><td class="line-number" value="1683"></td><td class="line-content">                            width: 400,</td></tr><tr><td class="line-number" value="1684"></td><td class="line-content">                            height: 300,</td></tr><tr><td class="line-number" value="1685"></td><td class="line-content">                            facingMode: "environment" // Usar la cámara trasera</td></tr><tr><td class="line-number" value="1686"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="1687"></td><td class="line-content">                    },</td></tr><tr><td class="line-number" value="1688"></td><td class="line-content">                    decoder: {</td></tr><tr><td class="line-number" value="1689"></td><td class="line-content">                        readers: ["code_128_reader", "ean_reader", "ean_8_reader", "code_39_reader", "upc_reader"]</td></tr><tr><td class="line-number" value="1690"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="1691"></td><td class="line-content">                }, function(err) {</td></tr><tr><td class="line-number" value="1692"></td><td class="line-content">                    if (err) {</td></tr><tr><td class="line-number" value="1693"></td><td class="line-content">                        console.error(err);</td></tr><tr><td class="line-number" value="1694"></td><td class="line-content">                        showToast('Error', 'No se pudo inicializar el escáner', 'danger');</td></tr><tr><td class="line-number" value="1695"></td><td class="line-content">                        return;</td></tr><tr><td class="line-number" value="1696"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="1697"></td><td class="line-content">                    quaggaInitialized = true;</td></tr><tr><td class="line-number" value="1698"></td><td class="line-content">                    Quagga.start();</td></tr><tr><td class="line-number" value="1699"></td><td class="line-content">                    document.getElementById('start-scan').style.display = 'none';</td></tr><tr><td class="line-number" value="1700"></td><td class="line-content">                    document.getElementById('stop-scan').style.display = 'inline-block';</td></tr><tr><td class="line-number" value="1701"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1702"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1703"></td><td class="line-content">                Quagga.onDetected(function(result) {</td></tr><tr><td class="line-number" value="1704"></td><td class="line-content">                    const code = result.codeResult.code;</td></tr><tr><td class="line-number" value="1705"></td><td class="line-content">                    document.getElementById('manual-barcode').value = code;</td></tr><tr><td class="line-number" value="1706"></td><td class="line-content">                    addProductByBarcode(code);</td></tr><tr><td class="line-number" value="1707"></td><td class="line-content">                    stopBarcodeScanner();</td></tr><tr><td class="line-number" value="1708"></td><td class="line-content">                    barcodeModal.hide();</td></tr><tr><td class="line-number" value="1709"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1710"></td><td class="line-content">            } else {</td></tr><tr><td class="line-number" value="1711"></td><td class="line-content">                Quagga.start();</td></tr><tr><td class="line-number" value="1712"></td><td class="line-content">                document.getElementById('start-scan').style.display = 'none';</td></tr><tr><td class="line-number" value="1713"></td><td class="line-content">                document.getElementById('stop-scan').style.display = 'inline-block';</td></tr><tr><td class="line-number" value="1714"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1715"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1716"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1717"></td><td class="line-content">        function stopBarcodeScanner() {</td></tr><tr><td class="line-number" value="1718"></td><td class="line-content">            if (quaggaInitialized) {</td></tr><tr><td class="line-number" value="1719"></td><td class="line-content">                Quagga.stop();</td></tr><tr><td class="line-number" value="1720"></td><td class="line-content">                document.getElementById('start-scan').style.display = 'inline-block';</td></tr><tr><td class="line-number" value="1721"></td><td class="line-content">                document.getElementById('stop-scan').style.display = 'none';</td></tr><tr><td class="line-number" value="1722"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1723"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1724"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1725"></td><td class="line-content">        function addProductByBarcode(barcode) {</td></tr><tr><td class="line-number" value="1726"></td><td class="line-content">            const transaction = db.transaction(['producto'], 'readonly');</td></tr><tr><td class="line-number" value="1727"></td><td class="line-content">            const store = transaction.objectStore('producto');</td></tr><tr><td class="line-number" value="1728"></td><td class="line-content">            const index = store.index('codigo_barras');</td></tr><tr><td class="line-number" value="1729"></td><td class="line-content">            const request = index.get(barcode);</td></tr><tr><td class="line-number" value="1730"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1731"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1732"></td><td class="line-content">                const producto = request.result;</td></tr><tr><td class="line-number" value="1733"></td><td class="line-content">                if (producto) {</td></tr><tr><td class="line-number" value="1734"></td><td class="line-content">                    // Buscar si el producto ya está en la lista</td></tr><tr><td class="line-number" value="1735"></td><td class="line-content">                    let encontrado = false;</td></tr><tr><td class="line-number" value="1736"></td><td class="line-content">                    document.querySelectorAll('.producto-select').forEach(select =&gt; {</td></tr><tr><td class="line-number" value="1737"></td><td class="line-content">                        if (select.value == producto.id) {</td></tr><tr><td class="line-number" value="1738"></td><td class="line-content">                            // Incrementar la cantidad</td></tr><tr><td class="line-number" value="1739"></td><td class="line-content">                            const cantidadInput = select.closest('.producto-item').querySelector('.cantidad');</td></tr><tr><td class="line-number" value="1740"></td><td class="line-content">                            cantidadInput.value = parseInt(cantidadInput.value) + 1;</td></tr><tr><td class="line-number" value="1741"></td><td class="line-content">                            calcularSubtotal(cantidadInput);</td></tr><tr><td class="line-number" value="1742"></td><td class="line-content">                            encontrado = true;</td></tr><tr><td class="line-number" value="1743"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="1744"></td><td class="line-content">                    });</td></tr><tr><td class="line-number" value="1745"></td><td class="line-content">                    </td></tr><tr><td class="line-number" value="1746"></td><td class="line-content">                    if (!encontrado) {</td></tr><tr><td class="line-number" value="1747"></td><td class="line-content">                        // Agregar nuevo producto</td></tr><tr><td class="line-number" value="1748"></td><td class="line-content">                        agregarProductoVenta();</td></tr><tr><td class="line-number" value="1749"></td><td class="line-content">                        const lastProduct = document.querySelectorAll('.producto-item');</td></tr><tr><td class="line-number" value="1750"></td><td class="line-content">                        const lastSelect = lastProduct[lastProduct.length - 1].querySelector('.producto-select');</td></tr><tr><td class="line-number" value="1751"></td><td class="line-content">                        lastSelect.value = producto.id;</td></tr><tr><td class="line-number" value="1752"></td><td class="line-content">                        actualizarPrecio(lastSelect);</td></tr><tr><td class="line-number" value="1753"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="1754"></td><td class="line-content">                } else {</td></tr><tr><td class="line-number" value="1755"></td><td class="line-content">                    showToast('Error', 'Producto no encontrado', 'danger');</td></tr><tr><td class="line-number" value="1756"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1757"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1758"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1759"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1760"></td><td class="line-content">        function addProductByManualBarcode() {</td></tr><tr><td class="line-number" value="1761"></td><td class="line-content">            const barcode = document.getElementById('manual-barcode').value;</td></tr><tr><td class="line-number" value="1762"></td><td class="line-content">            if (barcode) {</td></tr><tr><td class="line-number" value="1763"></td><td class="line-content">                addProductByBarcode(barcode);</td></tr><tr><td class="line-number" value="1764"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1765"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1766"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1767"></td><td class="line-content">        function agregarProductoVenta() {</td></tr><tr><td class="line-number" value="1768"></td><td class="line-content">            const productoContainer = document.getElementById('productos-container');</td></tr><tr><td class="line-number" value="1769"></td><td class="line-content">            const nuevoProducto = document.createElement('div');</td></tr><tr><td class="line-number" value="1770"></td><td class="line-content">            nuevoProducto.className = 'row producto-item mb-2';</td></tr><tr><td class="line-number" value="1771"></td><td class="line-content">            nuevoProducto.innerHTML = `</td></tr><tr><td class="line-number" value="1772"></td><td class="line-content">                &lt;div class="col-md-5"&gt;</td></tr><tr><td class="line-number" value="1773"></td><td class="line-content">                    &lt;select class="form-select producto-select" onchange="actualizarPrecio(this)" required&gt;</td></tr><tr><td class="line-number" value="1774"></td><td class="line-content">                        &lt;option value=""&gt;Seleccionar producto...&lt;/option&gt;</td></tr><tr><td class="line-number" value="1775"></td><td class="line-content">                        ${document.querySelector('.producto-select').innerHTML.replace(/&lt;option value=""&gt;Seleccionar producto...&lt;\/option&gt;/, '')}</td></tr><tr><td class="line-number" value="1776"></td><td class="line-content">                    &lt;/select&gt;</td></tr><tr><td class="line-number" value="1777"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1778"></td><td class="line-content">                &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1779"></td><td class="line-content">                    &lt;input type="number" class="form-control cantidad" min="1" value="1" onchange="calcularSubtotal(this)" required&gt;</td></tr><tr><td class="line-number" value="1780"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1781"></td><td class="line-content">                &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1782"></td><td class="line-content">                    &lt;input type="number" step="0.01" class="form-control precio" value="0" readonly&gt;</td></tr><tr><td class="line-number" value="1783"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1784"></td><td class="line-content">                &lt;div class="col-md-2"&gt;</td></tr><tr><td class="line-number" value="1785"></td><td class="line-content">                    &lt;input type="number" step="0.01" class="form-control subtotal" value="0" readonly&gt;</td></tr><tr><td class="line-number" value="1786"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1787"></td><td class="line-content">                &lt;div class="col-md-1"&gt;</td></tr><tr><td class="line-number" value="1788"></td><td class="line-content">                    &lt;button type="button" class="btn btn-danger btn-sm" onclick="eliminarProductoVenta(this)"&gt;X&lt;/button&gt;</td></tr><tr><td class="line-number" value="1789"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1790"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="1791"></td><td class="line-content">            productoContainer.appendChild(nuevoProducto);</td></tr><tr><td class="line-number" value="1792"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1793"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1794"></td><td class="line-content">        function eliminarProductoVenta(button) {</td></tr><tr><td class="line-number" value="1795"></td><td class="line-content">            // No permitir eliminar si solo queda un producto</td></tr><tr><td class="line-number" value="1796"></td><td class="line-content">            if (document.querySelectorAll('.producto-item').length &gt; 1) {</td></tr><tr><td class="line-number" value="1797"></td><td class="line-content">                button.closest('.producto-item').remove();</td></tr><tr><td class="line-number" value="1798"></td><td class="line-content">                calcularTotalVenta();</td></tr><tr><td class="line-number" value="1799"></td><td class="line-content">            } else {</td></tr><tr><td class="line-number" value="1800"></td><td class="line-content">                showToast('Advertencia', 'Debe haber al menos un producto en la venta', 'warning');</td></tr><tr><td class="line-number" value="1801"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1802"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1803"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1804"></td><td class="line-content">        function actualizarPrecio(select) {</td></tr><tr><td class="line-number" value="1805"></td><td class="line-content">            const precioInput = select.closest('.producto-item').querySelector('.precio');</td></tr><tr><td class="line-number" value="1806"></td><td class="line-content">            const selectedOption = select.options[select.selectedIndex];</td></tr><tr><td class="line-number" value="1807"></td><td class="line-content">            const precio = selectedOption.getAttribute('data-precio') || 0;</td></tr><tr><td class="line-number" value="1808"></td><td class="line-content">            precioInput.value = precio;</td></tr><tr><td class="line-number" value="1809"></td><td class="line-content">            calcularSubtotal(select);</td></tr><tr><td class="line-number" value="1810"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1811"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1812"></td><td class="line-content">        function calcularSubtotal(input) {</td></tr><tr><td class="line-number" value="1813"></td><td class="line-content">            const item = input.closest('.producto-item');</td></tr><tr><td class="line-number" value="1814"></td><td class="line-content">            const cantidad = item.querySelector('.cantidad').value || 0;</td></tr><tr><td class="line-number" value="1815"></td><td class="line-content">            const precio = item.querySelector('.precio').value || 0;</td></tr><tr><td class="line-number" value="1816"></td><td class="line-content">            const subtotal = cantidad * precio;</td></tr><tr><td class="line-number" value="1817"></td><td class="line-content">            item.querySelector('.subtotal').value = subtotal.toFixed(2);</td></tr><tr><td class="line-number" value="1818"></td><td class="line-content">            calcularTotalVenta();</td></tr><tr><td class="line-number" value="1819"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1820"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1821"></td><td class="line-content">        function calcularTotalVenta() {</td></tr><tr><td class="line-number" value="1822"></td><td class="line-content">            let subtotal = 0;</td></tr><tr><td class="line-number" value="1823"></td><td class="line-content">            document.querySelectorAll('.subtotal').forEach(input =&gt; {</td></tr><tr><td class="line-number" value="1824"></td><td class="line-content">                subtotal += parseFloat(input.value) || 0;</td></tr><tr><td class="line-number" value="1825"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="1826"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1827"></td><td class="line-content">            document.getElementById('venta-subtotal').value = subtotal.toFixed(2);</td></tr><tr><td class="line-number" value="1828"></td><td class="line-content">            document.getElementById('venta-total').value = subtotal.toFixed(2); // Podría agregar impuestos aquí</td></tr><tr><td class="line-number" value="1829"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1830"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1831"></td><td class="line-content">        function guardarVenta(event) {</td></tr><tr><td class="line-number" value="1832"></td><td class="line-content">            event.preventDefault();</td></tr><tr><td class="line-number" value="1833"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1834"></td><td class="line-content">            const fecha = document.getElementById('venta-fecha').value;</td></tr><tr><td class="line-number" value="1835"></td><td class="line-content">            const cliente_id = document.getElementById('venta-cliente').value;</td></tr><tr><td class="line-number" value="1836"></td><td class="line-content">            const nit = document.getElementById('venta-nit').value;</td></tr><tr><td class="line-number" value="1837"></td><td class="line-content">            const direccion = document.getElementById('venta-direccion').value;</td></tr><tr><td class="line-number" value="1838"></td><td class="line-content">            const telefono = document.getElementById('venta-telefono').value;</td></tr><tr><td class="line-number" value="1839"></td><td class="line-content">            const subtotal = parseFloat(document.getElementById('venta-subtotal').value);</td></tr><tr><td class="line-number" value="1840"></td><td class="line-content">            const total = parseFloat(document.getElementById('venta-total').value);</td></tr><tr><td class="line-number" value="1841"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1842"></td><td class="line-content">            // Obtener productos</td></tr><tr><td class="line-number" value="1843"></td><td class="line-content">            const productos = [];</td></tr><tr><td class="line-number" value="1844"></td><td class="line-content">            document.querySelectorAll('.producto-item').forEach(item =&gt; {</td></tr><tr><td class="line-number" value="1845"></td><td class="line-content">                const productoSelect = item.querySelector('.producto-select');</td></tr><tr><td class="line-number" value="1846"></td><td class="line-content">                const producto_id = productoSelect.value;</td></tr><tr><td class="line-number" value="1847"></td><td class="line-content">                const producto_nombre = productoSelect.options[productoSelect.selectedIndex].text;</td></tr><tr><td class="line-number" value="1848"></td><td class="line-content">                const cantidad = parseInt(item.querySelector('.cantidad').value);</td></tr><tr><td class="line-number" value="1849"></td><td class="line-content">                const precio = parseFloat(item.querySelector('.precio').value);</td></tr><tr><td class="line-number" value="1850"></td><td class="line-content">                const producto_subtotal = parseFloat(item.querySelector('.subtotal').value);</td></tr><tr><td class="line-number" value="1851"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1852"></td><td class="line-content">                if (producto_id &amp;&amp; cantidad &amp;&amp; precio) {</td></tr><tr><td class="line-number" value="1853"></td><td class="line-content">                    productos.push({</td></tr><tr><td class="line-number" value="1854"></td><td class="line-content">                        id: producto_id,</td></tr><tr><td class="line-number" value="1855"></td><td class="line-content">                        nombre: producto_nombre,</td></tr><tr><td class="line-number" value="1856"></td><td class="line-content">                        cantidad: cantidad,</td></tr><tr><td class="line-number" value="1857"></td><td class="line-content">                        precio: precio,</td></tr><tr><td class="line-number" value="1858"></td><td class="line-content">                        subtotal: producto_subtotal</td></tr><tr><td class="line-number" value="1859"></td><td class="line-content">                    });</td></tr><tr><td class="line-number" value="1860"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1861"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="1862"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1863"></td><td class="line-content">            if (productos.length === 0) {</td></tr><tr><td class="line-number" value="1864"></td><td class="line-content">                showToast('Error', 'Debe agregar al menos un producto', 'danger');</td></tr><tr><td class="line-number" value="1865"></td><td class="line-content">                return;</td></tr><tr><td class="line-number" value="1866"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1867"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1868"></td><td class="line-content">            // Obtener nombre del cliente si está seleccionado</td></tr><tr><td class="line-number" value="1869"></td><td class="line-content">            let cliente_nombre = '';</td></tr><tr><td class="line-number" value="1870"></td><td class="line-content">            if (cliente_id) {</td></tr><tr><td class="line-number" value="1871"></td><td class="line-content">                const clienteSelect = document.getElementById('venta-cliente');</td></tr><tr><td class="line-number" value="1872"></td><td class="line-content">                cliente_nombre = clienteSelect.options[clienteSelect.selectedIndex].text;</td></tr><tr><td class="line-number" value="1873"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1874"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1875"></td><td class="line-content">            const venta = {</td></tr><tr><td class="line-number" value="1876"></td><td class="line-content">                fecha: fecha,</td></tr><tr><td class="line-number" value="1877"></td><td class="line-content">                cliente_id: cliente_id || null,</td></tr><tr><td class="line-number" value="1878"></td><td class="line-content">                cliente: cliente_nombre,</td></tr><tr><td class="line-number" value="1879"></td><td class="line-content">                nit: nit,</td></tr><tr><td class="line-number" value="1880"></td><td class="line-content">                direccion: direccion,</td></tr><tr><td class="line-number" value="1881"></td><td class="line-content">                telefono: telefono,</td></tr><tr><td class="line-number" value="1882"></td><td class="line-content">                productos: productos,</td></tr><tr><td class="line-number" value="1883"></td><td class="line-content">                subtotal: subtotal,</td></tr><tr><td class="line-number" value="1884"></td><td class="line-content">                total: total</td></tr><tr><td class="line-number" value="1885"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1886"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1887"></td><td class="line-content">            const transaction = db.transaction(['venta'], 'readwrite');</td></tr><tr><td class="line-number" value="1888"></td><td class="line-content">            const store = transaction.objectStore('venta');</td></tr><tr><td class="line-number" value="1889"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1890"></td><td class="line-content">            let request;</td></tr><tr><td class="line-number" value="1891"></td><td class="line-content">            if (editingId) {</td></tr><tr><td class="line-number" value="1892"></td><td class="line-content">                venta.id = editingId;</td></tr><tr><td class="line-number" value="1893"></td><td class="line-content">                request = store.put(venta);</td></tr><tr><td class="line-number" value="1894"></td><td class="line-content">            } else {</td></tr><tr><td class="line-number" value="1895"></td><td class="line-content">                request = store.add(venta);</td></tr><tr><td class="line-number" value="1896"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1897"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1898"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1899"></td><td class="line-content">                modal.hide();</td></tr><tr><td class="line-number" value="1900"></td><td class="line-content">                showToast('Éxito', `Venta ${editingId ? 'actualizada' : 'registrada'} correctamente`, 'success');</td></tr><tr><td class="line-number" value="1901"></td><td class="line-content">                cargarVentas();</td></tr><tr><td class="line-number" value="1902"></td><td class="line-content">                updateCounts();</td></tr><tr><td class="line-number" value="1903"></td><td class="line-content">                editingId = null;</td></tr><tr><td class="line-number" value="1904"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1905"></td><td class="line-content">                // Imprimir recibo automáticamente para nuevas ventas</td></tr><tr><td class="line-number" value="1906"></td><td class="line-content">                if (!editingId) {</td></tr><tr><td class="line-number" value="1907"></td><td class="line-content">                    imprimirRecibo(request.result); // Pasar el ID de la venta recién creada</td></tr><tr><td class="line-number" value="1908"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1909"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1910"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1911"></td><td class="line-content">            request.onerror = function() {</td></tr><tr><td class="line-number" value="1912"></td><td class="line-content">                showToast('Error', 'No se pudo guardar la venta', 'danger');</td></tr><tr><td class="line-number" value="1913"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1914"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1915"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1916"></td><td class="line-content">        function verDetalleVenta(id) {</td></tr><tr><td class="line-number" value="1917"></td><td class="line-content">            const transaction = db.transaction(['venta', 'cliente'], 'readonly');</td></tr><tr><td class="line-number" value="1918"></td><td class="line-content">            const ventaStore = transaction.objectStore('venta');</td></tr><tr><td class="line-number" value="1919"></td><td class="line-content">            const clienteStore = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="1920"></td><td class="line-content">            const request = ventaStore.get(id);</td></tr><tr><td class="line-number" value="1921"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1922"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="1923"></td><td class="line-content">                const venta = request.result;</td></tr><tr><td class="line-number" value="1924"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1925"></td><td class="line-content">                // Obtener nombre del cliente si existe</td></tr><tr><td class="line-number" value="1926"></td><td class="line-content">                let clienteNombre = venta.cliente || 'Cliente no especificado';</td></tr><tr><td class="line-number" value="1927"></td><td class="line-content">                if (venta.cliente_id) {</td></tr><tr><td class="line-number" value="1928"></td><td class="line-content">                    const clienteRequest = clienteStore.get(venta.cliente_id);</td></tr><tr><td class="line-number" value="1929"></td><td class="line-content">                    clienteRequest.onsuccess = function() {</td></tr><tr><td class="line-number" value="1930"></td><td class="line-content">                        if (clienteRequest.result) {</td></tr><tr><td class="line-number" value="1931"></td><td class="line-content">                            clienteNombre = clienteRequest.result.nombre;</td></tr><tr><td class="line-number" value="1932"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="1933"></td><td class="line-content">                        mostrarDetalleVenta(venta, clienteNombre);</td></tr><tr><td class="line-number" value="1934"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="1935"></td><td class="line-content">                    clienteRequest.onerror = function() {</td></tr><tr><td class="line-number" value="1936"></td><td class="line-content">                        clienteNombre = venta.cliente || 'Cliente no especificado';</td></tr><tr><td class="line-number" value="1937"></td><td class="line-content">                        mostrarDetalleVenta(venta, clienteNombre);</td></tr><tr><td class="line-number" value="1938"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="1939"></td><td class="line-content">                } else {</td></tr><tr><td class="line-number" value="1940"></td><td class="line-content">                    mostrarDetalleVenta(venta, clienteNombre);</td></tr><tr><td class="line-number" value="1941"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="1942"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="1943"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="1944"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="1945"></td><td class="line-content">        function mostrarDetalleVenta(venta, clienteNombre) {</td></tr><tr><td class="line-number" value="1946"></td><td class="line-content">            let productosHTML = '';</td></tr><tr><td class="line-number" value="1947"></td><td class="line-content">            if (venta.productos &amp;&amp; venta.productos.length &gt; 0) {</td></tr><tr><td class="line-number" value="1948"></td><td class="line-content">                venta.productos.forEach(prod =&gt; {</td></tr><tr><td class="line-number" value="1949"></td><td class="line-content">                    productosHTML += `</td></tr><tr><td class="line-number" value="1950"></td><td class="line-content">                        &lt;tr&gt;</td></tr><tr><td class="line-number" value="1951"></td><td class="line-content">                            &lt;td&gt;${prod.nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1952"></td><td class="line-content">                            &lt;td&gt;${prod.cantidad}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1953"></td><td class="line-content">                            &lt;td&gt;$${prod.precio.toFixed(2)}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1954"></td><td class="line-content">                            &lt;td&gt;$${prod.subtotal.toFixed(2)}&lt;/td&gt;</td></tr><tr><td class="line-number" value="1955"></td><td class="line-content">                        &lt;/tr&gt;</td></tr><tr><td class="line-number" value="1956"></td><td class="line-content">                    `;</td></tr><tr><td class="line-number" value="1957"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="1958"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="1959"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="1960"></td><td class="line-content">            document.getElementById('modalTitle').textContent = `Detalle de Venta #${venta.id}`;</td></tr><tr><td class="line-number" value="1961"></td><td class="line-content">            document.getElementById('modalBody').innerHTML = `</td></tr><tr><td class="line-number" value="1962"></td><td class="line-content">                &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1963"></td><td class="line-content">                    &lt;strong&gt;Fecha:&lt;/strong&gt; ${venta.fecha}</td></tr><tr><td class="line-number" value="1964"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1965"></td><td class="line-content">                &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1966"></td><td class="line-content">                    &lt;strong&gt;Cliente:&lt;/strong&gt; ${clienteNombre}</td></tr><tr><td class="line-number" value="1967"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1968"></td><td class="line-content">                &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1969"></td><td class="line-content">                    &lt;strong&gt;NIT:&lt;/strong&gt; ${venta.nit || 'No especificado'}</td></tr><tr><td class="line-number" value="1970"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1971"></td><td class="line-content">                &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1972"></td><td class="line-content">                    &lt;strong&gt;Dirección:&lt;/strong&gt; ${venta.direccion || 'No especificada'}</td></tr><tr><td class="line-number" value="1973"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1974"></td><td class="line-content">                &lt;div class="mb-3"&gt;</td></tr><tr><td class="line-number" value="1975"></td><td class="line-content">                    &lt;strong&gt;Teléfono:&lt;/strong&gt; ${venta.telefono || 'No especificado'}</td></tr><tr><td class="line-number" value="1976"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="1977"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1978"></td><td class="line-content">                &lt;h5&gt;Productos&lt;/h5&gt;</td></tr><tr><td class="line-number" value="1979"></td><td class="line-content">                &lt;table class="table table-sm"&gt;</td></tr><tr><td class="line-number" value="1980"></td><td class="line-content">                    &lt;thead&gt;</td></tr><tr><td class="line-number" value="1981"></td><td class="line-content">                        &lt;tr&gt;</td></tr><tr><td class="line-number" value="1982"></td><td class="line-content">                            &lt;th&gt;Producto&lt;/th&gt;</td></tr><tr><td class="line-number" value="1983"></td><td class="line-content">                            &lt;th&gt;Cantidad&lt;/th&gt;</td></tr><tr><td class="line-number" value="1984"></td><td class="line-content">                            &lt;th&gt;Precio Unitario&lt;/th&gt;</td></tr><tr><td class="line-number" value="1985"></td><td class="line-content">                            &lt;th&gt;Subtotal&lt;/th&gt;</td></tr><tr><td class="line-number" value="1986"></td><td class="line-content">                        &lt;/tr&gt;</td></tr><tr><td class="line-number" value="1987"></td><td class="line-content">                    &lt;/thead&gt;</td></tr><tr><td class="line-number" value="1988"></td><td class="line-content">                    &lt;tbody&gt;</td></tr><tr><td class="line-number" value="1989"></td><td class="line-content">                        ${productosHTML}</td></tr><tr><td class="line-number" value="1990"></td><td class="line-content">                    &lt;/tbody&gt;</td></tr><tr><td class="line-number" value="1991"></td><td class="line-content">                &lt;/table&gt;</td></tr><tr><td class="line-number" value="1992"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="1993"></td><td class="line-content">                &lt;div class="row mt-3"&gt;</td></tr><tr><td class="line-number" value="1994"></td><td class="line-content">                    &lt;div class="col-md-6"&gt;</td></tr><tr><td class="line-number" value="1995"></td><td class="line-content">                        &lt;strong&gt;Subtotal:&lt;/strong&gt; $${venta.subtotal.toFixed(2)}</td></tr><tr><td class="line-number" value="1996"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="1997"></td><td class="line-content">                    &lt;div class="col-md-6"&gt;</td></tr><tr><td class="line-number" value="1998"></td><td class="line-content">                        &lt;strong&gt;Total:&lt;/strong&gt; $${venta.total.toFixed(2)}</td></tr><tr><td class="line-number" value="1999"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="2000"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="2001"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="2002"></td><td class="line-content">                &lt;div class="modal-footer"&gt;</td></tr><tr><td class="line-number" value="2003"></td><td class="line-content">                    &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Cerrar&lt;/button&gt;</td></tr><tr><td class="line-number" value="2004"></td><td class="line-content">                    &lt;button type="button" class="btn btn-primary" onclick="imprimirRecibo(${venta.id})"&gt;</td></tr><tr><td class="line-number" value="2005"></td><td class="line-content">                        &lt;i class="bi bi-printer"&gt;&lt;/i&gt; Imprimir Recibo</td></tr><tr><td class="line-number" value="2006"></td><td class="line-content">                    &lt;/button&gt;</td></tr><tr><td class="line-number" value="2007"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="2008"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="2009"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="2010"></td><td class="line-content">            modal.show();</td></tr><tr><td class="line-number" value="2011"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="2012"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="2013"></td><td class="line-content">        function imprimirRecibo(ventaId) {</td></tr><tr><td class="line-number" value="2014"></td><td class="line-content">            const transaction = db.transaction(['venta', 'cliente'], 'readonly');</td></tr><tr><td class="line-number" value="2015"></td><td class="line-content">            const ventaStore = transaction.objectStore('venta');</td></tr><tr><td class="line-number" value="2016"></td><td class="line-content">            const clienteStore = transaction.objectStore('cliente');</td></tr><tr><td class="line-number" value="2017"></td><td class="line-content">            const request = ventaStore.get(ventaId);</td></tr><tr><td class="line-number" value="2018"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="2019"></td><td class="line-content">            request.onsuccess = function() {</td></tr><tr><td class="line-number" value="2020"></td><td class="line-content">                const venta = request.result;</td></tr><tr><td class="line-number" value="2021"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="2022"></td><td class="line-content">                // Obtener nombre del cliente si existe</td></tr><tr><td class="line-number" value="2023"></td><td class="line-content">                let clienteNombre = venta.cliente || 'Cliente no especificado';</td></tr><tr><td class="line-number" value="2024"></td><td class="line-content">                if (venta.cliente_id) {</td></tr><tr><td class="line-number" value="2025"></td><td class="line-content">                    const clienteRequest = clienteStore.get(venta.cliente_id);</td></tr><tr><td class="line-number" value="2026"></td><td class="line-content">                    clienteRequest.onsuccess = function() {</td></tr><tr><td class="line-number" value="2027"></td><td class="line-content">                        if (clienteRequest.result) {</td></tr><tr><td class="line-number" value="2028"></td><td class="line-content">                            clienteNombre = clienteRequest.result.nombre;</td></tr><tr><td class="line-number" value="2029"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="2030"></td><td class="line-content">                        generarRecibo(venta, clienteNombre);</td></tr><tr><td class="line-number" value="2031"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="2032"></td><td class="line-content">                    clienteRequest.onerror = function() {</td></tr><tr><td class="line-number" value="2033"></td><td class="line-content">                        clienteNombre = venta.cliente || 'Cliente no especificado';</td></tr><tr><td class="line-number" value="2034"></td><td class="line-content">                        generarRecibo(venta, clienteNombre);</td></tr><tr><td class="line-number" value="2035"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="2036"></td><td class="line-content">                } else {</td></tr><tr><td class="line-number" value="2037"></td><td class="line-content">                    generarRecibo(venta, clienteNombre);</td></tr><tr><td class="line-number" value="2038"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="2039"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="2040"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="2041"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="2042"></td><td class="line-content">        function generarRecibo(venta, clienteNombre) {</td></tr><tr><td class="line-number" value="2043"></td><td class="line-content">            // Actualizar los datos del recibo</td></tr><tr><td class="line-number" value="2044"></td><td class="line-content">            document.getElementById('recibo-numero').textContent = venta.id;</td></tr><tr><td class="line-number" value="2045"></td><td class="line-content">            document.getElementById('recibo-fecha').textContent = venta.fecha;</td></tr><tr><td class="line-number" value="2046"></td><td class="line-content">            document.getElementById('recibo-cliente').textContent = clienteNombre;</td></tr><tr><td class="line-number" value="2047"></td><td class="line-content">            document.getElementById('recibo-nit').textContent = venta.nit || 'CF';</td></tr><tr><td class="line-number" value="2048"></td><td class="line-content">            document.getElementById('recibo-total').textContent = `$${venta.total.toFixed(2)}`;</td></tr><tr><td class="line-number" value="2049"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="2050"></td><td class="line-content">            // Generar items del recibo</td></tr><tr><td class="line-number" value="2051"></td><td class="line-content">            const itemsContainer = document.getElementById('recibo-items');</td></tr><tr><td class="line-number" value="2052"></td><td class="line-content">            itemsContainer.innerHTML = '';</td></tr><tr><td class="line-number" value="2053"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="2054"></td><td class="line-content">            if (venta.productos &amp;&amp; venta.productos.length &gt; 0) {</td></tr><tr><td class="line-number" value="2055"></td><td class="line-content">                venta.productos.forEach(prod =&gt; {</td></tr><tr><td class="line-number" value="2056"></td><td class="line-content">                    const tr = document.createElement('tr');</td></tr><tr><td class="line-number" value="2057"></td><td class="line-content">                    tr.innerHTML = `</td></tr><tr><td class="line-number" value="2058"></td><td class="line-content">                        &lt;td&gt;${prod.nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="2059"></td><td class="line-content">                        &lt;td&gt;${prod.cantidad}&lt;/td&gt;</td></tr><tr><td class="line-number" value="2060"></td><td class="line-content">                        &lt;td style="text-align: right;"&gt;$${prod.precio.toFixed(2)}&lt;/td&gt;</td></tr><tr><td class="line-number" value="2061"></td><td class="line-content">                    `;</td></tr><tr><td class="line-number" value="2062"></td><td class="line-content">                    itemsContainer.appendChild(tr);</td></tr><tr><td class="line-number" value="2063"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="2064"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="2065"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="2066"></td><td class="line-content">            // Crear una ventana de impresión</td></tr><tr><td class="line-number" value="2067"></td><td class="line-content">            const ventanaImpresion = window.open('', '_blank');</td></tr><tr><td class="line-number" value="2068"></td><td class="line-content">            ventanaImpresion.document.write(`</td></tr><tr><td class="line-number" value="2069"></td><td class="line-content">                &lt;!DOCTYPE html&gt;</td></tr><tr><td class="line-number" value="2070"></td><td class="line-content">                &lt;html&gt;</td></tr><tr><td class="line-number" value="2071"></td><td class="line-content">                &lt;head&gt;</td></tr><tr><td class="line-number" value="2072"></td><td class="line-content">                    &lt;title&gt;Recibo de Venta - Farmacia El Ahorro&lt;/title&gt;</td></tr><tr><td class="line-number" value="2073"></td><td class="line-content">                    &lt;style&gt;</td></tr><tr><td class="line-number" value="2074"></td><td class="line-content">                        body {</td></tr><tr><td class="line-number" value="2075"></td><td class="line-content">                            font-family: 'Courier New', monospace;</td></tr><tr><td class="line-number" value="2076"></td><td class="line-content">                            width: 80mm;</td></tr><tr><td class="line-number" value="2077"></td><td class="line-content">                            margin: 0 auto;</td></tr><tr><td class="line-number" value="2078"></td><td class="line-content">                            padding: 10px;</td></tr><tr><td class="line-number" value="2079"></td><td class="line-content">                            font-size: 12px;</td></tr><tr><td class="line-number" value="2080"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="2081"></td><td class="line-content">                        .receipt-header, .receipt-footer {</td></tr><tr><td class="line-number" value="2082"></td><td class="line-content">                            text-align: center;</td></tr><tr><td class="line-number" value="2083"></td><td class="line-content">                            margin-bottom: 10px;</td></tr><tr><td class="line-number" value="2084"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="2085"></td><td class="line-content">                        .receipt-items {</td></tr><tr><td class="line-number" value="2086"></td><td class="line-content">                            width: 100%;</td></tr><tr><td class="line-number" value="2087"></td><td class="line-content">                            border-collapse: collapse;</td></tr><tr><td class="line-number" value="2088"></td><td class="line-content">                            margin: 10px 0;</td></tr><tr><td class="line-number" value="2089"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="2090"></td><td class="line-content">                        .receipt-items th, .receipt-items td {</td></tr><tr><td class="line-number" value="2091"></td><td class="line-content">                            padding: 4px 0;</td></tr><tr><td class="line-number" value="2092"></td><td class="line-content">                            border-bottom: 1px dashed #ccc;</td></tr><tr><td class="line-number" value="2093"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="2094"></td><td class="line-content">                        .receipt-total {</td></tr><tr><td class="line-number" value="2095"></td><td class="line-content">                            margin-top: 10px;</td></tr><tr><td class="line-number" value="2096"></td><td class="line-content">                            border-top: 2px solid #000;</td></tr><tr><td class="line-number" value="2097"></td><td class="line-content">                            padding-top: 10px;</td></tr><tr><td class="line-number" value="2098"></td><td class="line-content">                            font-weight: bold;</td></tr><tr><td class="line-number" value="2099"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="2100"></td><td class="line-content">                        @media print {</td></tr><tr><td class="line-number" value="2101"></td><td class="line-content">                            body {</td></tr><tr><td class="line-number" value="2102"></td><td class="line-content">                                width: 80mm;</td></tr><tr><td class="line-number" value="2103"></td><td class="line-content">                                margin: 0;</td></tr><tr><td class="line-number" value="2104"></td><td class="line-content">                                padding: 10px;</td></tr><tr><td class="line-number" value="2105"></td><td class="line-content">                            }</td></tr><tr><td class="line-number" value="2106"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="2107"></td><td class="line-content">                    &lt;/style&gt;</td></tr><tr><td class="line-number" value="2108"></td><td class="line-content">                &lt;/head&gt;</td></tr><tr><td class="line-number" value="2109"></td><td class="line-content">                &lt;body onload="window.print(); window.close();"&gt;</td></tr><tr><td class="line-number" value="2110"></td><td class="line-content">                    &lt;div class="receipt-header"&gt;</td></tr><tr><td class="line-number" value="2111"></td><td class="line-content">                        &lt;h4&gt;Farmacia El Ahorro&lt;/h4&gt;</td></tr><tr><td class="line-number" value="2112"></td><td class="line-content">                        &lt;p&gt;Tel: (502) 1234-5678&lt;/p&gt;</td></tr><tr><td class="line-number" value="2113"></td><td class="line-content">                        &lt;p&gt;Dirección: Av. Principal 123&lt;/p&gt;</td></tr><tr><td class="line-number" value="2114"></td><td class="line-content">                        &lt;p&gt;NIT: 1234567-8&lt;/p&gt;</td></tr><tr><td class="line-number" value="2115"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="2116"></td><td class="line-content">                    &lt;hr&gt;</td></tr><tr><td class="line-number" value="2117"></td><td class="line-content">                    &lt;div class="receipt-details"&gt;</td></tr><tr><td class="line-number" value="2118"></td><td class="line-content">                        &lt;p&gt;&lt;strong&gt;Recibo No:&lt;/strong&gt; ${venta.id}&lt;/p&gt;</td></tr><tr><td class="line-number" value="2119"></td><td class="line-content">                        &lt;p&gt;&lt;strong&gt;Fecha:&lt;/strong&gt; ${venta.fecha}&lt;/p&gt;</td></tr><tr><td class="line-number" value="2120"></td><td class="line-content">                        &lt;p&gt;&lt;strong&gt;Cliente:&lt;/strong&gt; ${clienteNombre}&lt;/p&gt;</td></tr><tr><td class="line-number" value="2121"></td><td class="line-content">                        &lt;p&gt;&lt;strong&gt;NIT:&lt;/strong&gt; ${venta.nit || 'CF'}&lt;/p&gt;</td></tr><tr><td class="line-number" value="2122"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="2123"></td><td class="line-content">                    &lt;hr&gt;</td></tr><tr><td class="line-number" value="2124"></td><td class="line-content">                    &lt;table class="receipt-items"&gt;</td></tr><tr><td class="line-number" value="2125"></td><td class="line-content">                        &lt;thead&gt;</td></tr><tr><td class="line-number" value="2126"></td><td class="line-content">                            &lt;tr&gt;</td></tr><tr><td class="line-number" value="2127"></td><td class="line-content">                                &lt;th style="width: 60%;"&gt;Producto&lt;/th&gt;</td></tr><tr><td class="line-number" value="2128"></td><td class="line-content">                                &lt;th style="width: 15%;"&gt;Cant&lt;/th&gt;</td></tr><tr><td class="line-number" value="2129"></td><td class="line-content">                                &lt;th style="width: 25%; text-align: right;"&gt;Precio&lt;/th&gt;</td></tr><tr><td class="line-number" value="2130"></td><td class="line-content">                            &lt;/tr&gt;</td></tr><tr><td class="line-number" value="2131"></td><td class="line-content">                        &lt;/thead&gt;</td></tr><tr><td class="line-number" value="2132"></td><td class="line-content">                        &lt;tbody&gt;</td></tr><tr><td class="line-number" value="2133"></td><td class="line-content">                            ${venta.productos.map(prod =&gt; `</td></tr><tr><td class="line-number" value="2134"></td><td class="line-content">                                &lt;tr&gt;</td></tr><tr><td class="line-number" value="2135"></td><td class="line-content">                                    &lt;td&gt;${prod.nombre}&lt;/td&gt;</td></tr><tr><td class="line-number" value="2136"></td><td class="line-content">                                    &lt;td&gt;${prod.cantidad}&lt;/td&gt;</td></tr><tr><td class="line-number" value="2137"></td><td class="line-content">                                    &lt;td style="text-align: right;"&gt;$${prod.precio.toFixed(2)}&lt;/td&gt;</td></tr><tr><td class="line-number" value="2138"></td><td class="line-content">                                &lt;/tr&gt;</td></tr><tr><td class="line-number" value="2139"></td><td class="line-content">                            `).join('')}</td></tr><tr><td class="line-number" value="2140"></td><td class="line-content">                        &lt;/tbody&gt;</td></tr><tr><td class="line-number" value="2141"></td><td class="line-content">                    &lt;/table&gt;</td></tr><tr><td class="line-number" value="2142"></td><td class="line-content">                    &lt;hr&gt;</td></tr><tr><td class="line-number" value="2143"></td><td class="line-content">                    &lt;div class="receipt-total"&gt;</td></tr><tr><td class="line-number" value="2144"></td><td class="line-content">                        &lt;p style="text-align: right;"&gt;Total: $${venta.total.toFixed(2)}&lt;/p&gt;</td></tr><tr><td class="line-number" value="2145"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="2146"></td><td class="line-content">                    &lt;div class="receipt-footer"&gt;</td></tr><tr><td class="line-number" value="2147"></td><td class="line-content">                        &lt;p&gt;¡Gracias por su compra!&lt;/p&gt;</td></tr><tr><td class="line-number" value="2148"></td><td class="line-content">                        &lt;p&gt;Vuelva pronto&lt;/p&gt;</td></tr><tr><td class="line-number" value="2149"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="2150"></td><td class="line-content">                &lt;/body&gt;</td></tr><tr><td class="line-number" value="2151"></td><td class="line-content">                &lt;/html&gt;</td></tr><tr><td class="line-number" value="2152"></td><td class="line-content">            `);</td></tr><tr><td class="line-number" value="2153"></td><td class="line-content">            ventanaImpresion.document.close();</td></tr><tr><td class="line-number" value="2154"></td><td class="line-content">            </td></tr><tr><td class="line-number" value="2155"></td><td class="line-content">            showToast('Éxito', 'Recibo impreso correctamente', 'success');</td></tr><tr><td class="line-number" value="2156"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="2157"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="2158"></td><td class="line-content">        function eliminarVenta(id) {</td></tr><tr><td class="line-number" value="2159"></td><td class="line-content">            if (confirm('¿Está seguro de que desea eliminar esta venta?')) {</td></tr><tr><td class="line-number" value="2160"></td><td class="line-content">                const transaction = db.transaction(['venta'], 'readwrite');</td></tr><tr><td class="line-number" value="2161"></td><td class="line-content">                const store = transaction.objectStore('venta');</td></tr><tr><td class="line-number" value="2162"></td><td class="line-content">                const request = store.delete(id);</td></tr><tr><td class="line-number" value="2163"></td><td class="line-content">                </td></tr><tr><td class="line-number" value="2164"></td><td class="line-content">                request.onsuccess = function() {</td></tr><tr><td class="line-number" value="2165"></td><td class="line-content">                    showToast('Éxito', 'Venta eliminada correctamente', 'success');</td></tr><tr><td class="line-number" value="2166"></td><td class="line-content">                    cargarVentas();</td></tr><tr><td class="line-number" value="2167"></td><td class="line-content">                    updateCounts();</td></tr><tr><td class="line-number" value="2168"></td><td class="line-content">                };</td></tr><tr><td class="line-number" value="2169"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="2170"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="2171"></td><td class="line-content">    <span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="2172"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="2173"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span><span class="html-tag">&lt;/html&gt;</span><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>